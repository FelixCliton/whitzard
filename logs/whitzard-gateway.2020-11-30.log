2020-11-30 10:41:11.182 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 10:41:12.855 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 10:41:13.017 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 10:41:13.206 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 10:41:13.257 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 10:41:13.288 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 10:41:13.422 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 10:41:13.444 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 10:41:16.510 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:41:16.510 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 10:41:16.745 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 208ms. Found 1 JPA repository interfaces.
2020-11-30 10:41:16.787 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:41:16.790 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 10:41:16.856 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 10:41:16.857 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 34ms. Found 0 Redis repository interfaces.
2020-11-30 10:41:17.265 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 10:41:17.747 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=d87bdca3-8535-3cfb-a76e-e9f0e7bf8c65
2020-11-30 10:41:18.921 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:41:18.925 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:41:18.930 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:41:19.812 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 10:41:19.918 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 10:41:20.100 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 10:41:20.631 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 10:41:20.983 [main] INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration[88] - 

Using generated security password: 12186c55-dc22-4c69-801c-366f6521d55c

2020-11-30 10:41:21.192 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 10:41:22.533 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 10:41:22.534 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 10:41:22.534 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 10:41:22.535 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 10:41:22.536 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 10:41:22.537 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 10:41:22.538 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 10:41:22.538 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 10:41:22.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 10:41:22.540 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 10:41:22.541 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 10:41:22.541 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 10:41:22.541 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 10:41:22.599 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 10:41:22.653 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 10:41:22.730 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:41:22.730 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:41:22.826 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:41:22.827 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:41:24.264 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 10:41:24.265 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 10:41:24.377 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 10:41:24.379 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 10:41:24.380 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 10:41:24.709 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 10:41:25.053 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:41:25.776 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 10:41:25.792 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:41:26.118 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 10:41:26.128 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 10:41:26.264 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 10:41:26.290 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 10:41:26.566 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 10:41:26.581 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:41:26.581 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:41:26.581 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:41:26.602 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:41:26.602 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:41:26.603 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:41:27.078 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 10:41:27.114 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 19.326 seconds (JVM running for 23.404)
2020-11-30 10:41:27.121 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 10:41:28.443 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 10:41:28.450 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:41:28.452 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 10:41:28.453 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:41:28.454 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 10:41:28.454 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:41:28.455 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 10:41:28.474 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:41:58.176 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:42:27.695 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:42:57.250 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:43:26.761 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:43:56.333 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:44:25.926 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:44:40.085 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:44:40.100 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 10:44:40.103 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 10:44:40.106 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 10:44:40.116 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 10:44:40.259 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:44:40.263 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 10:44:40.264 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 10:44:40.274 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 10:46:11.642 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 10:46:12.750 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 10:46:12.832 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 10:46:12.895 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 10:46:12.908 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 10:46:12.928 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 10:46:12.952 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 10:46:12.978 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 10:46:14.648 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:46:14.649 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 10:46:14.878 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 215ms. Found 1 JPA repository interfaces.
2020-11-30 10:46:14.922 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:46:14.925 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 10:46:14.952 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 10:46:14.953 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2020-11-30 10:46:15.120 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 10:46:15.310 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=d87bdca3-8535-3cfb-a76e-e9f0e7bf8c65
2020-11-30 10:46:15.804 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:46:15.806 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:46:15.809 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:46:16.236 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 10:46:16.309 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 10:46:16.423 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 10:46:16.781 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 10:46:16.979 [main] INFO  o.s.b.a.s.r.ReactiveUserDetailsServiceAutoConfiguration[88] - 

Using generated security password: 5d5989c0-6bd1-46cb-bd47-d7952880177c

2020-11-30 10:46:17.114 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 10:46:17.832 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 10:46:17.884 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 10:46:18.363 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 10:46:18.363 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 10:46:18.363 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 10:46:18.364 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 10:46:18.364 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 10:46:18.365 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 10:46:18.366 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 10:46:18.366 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 10:46:18.367 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 10:46:18.367 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 10:46:18.368 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 10:46:18.369 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 10:46:18.370 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 10:46:18.572 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:46:18.572 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:46:18.598 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:46:18.599 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:46:19.963 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 10:46:19.964 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 10:46:20.063 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 10:46:20.065 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 10:46:20.067 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 10:46:20.189 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 10:46:20.224 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:46:20.363 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 10:46:20.662 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:46:21.246 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 10:46:21.261 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 10:46:21.384 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 10:46:21.408 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 10:46:21.696 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 10:46:21.724 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:46:21.723 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:46:21.729 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:46:21.757 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:46:21.758 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:46:21.757 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:46:22.233 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 10:46:22.259 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 12.025 seconds (JVM running for 14.067)
2020-11-30 10:46:22.263 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 10:46:22.630 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 10:46:22.638 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:46:22.640 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 10:46:22.640 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:46:22.640 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 10:46:22.641 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:46:22.641 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 10:46:22.660 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:46:22.785 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:46:22.789 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:46:52.363 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:47:21.873 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:47:42.890 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:47:42.897 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 10:47:42.898 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 10:47:42.899 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 10:47:42.911 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 10:47:43.077 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:47:43.083 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 10:47:43.084 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 10:47:43.134 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 10:47:57.107 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 10:47:58.136 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 10:47:58.185 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 10:47:58.260 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 10:47:58.280 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 10:47:58.304 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 10:47:58.319 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 10:47:58.326 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 10:48:00.047 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:48:00.048 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 10:48:00.180 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 116ms. Found 1 JPA repository interfaces.
2020-11-30 10:48:00.206 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:48:00.207 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 10:48:00.231 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 10:48:00.231 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2020-11-30 10:48:00.374 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 10:48:00.517 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=a3be3156-c749-36fe-9e83-c784359cd679
2020-11-30 10:48:01.020 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:48:01.022 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:48:01.025 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:48:01.414 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 10:48:01.481 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 10:48:01.580 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 10:48:01.887 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 10:48:02.149 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 10:48:03.024 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 10:48:03.083 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 10:48:03.369 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 10:48:03.370 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 10:48:03.371 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 10:48:03.371 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 10:48:03.373 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 10:48:03.373 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 10:48:03.375 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 10:48:03.376 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 10:48:03.377 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 10:48:03.377 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 10:48:03.378 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 10:48:03.380 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 10:48:03.381 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 10:48:03.575 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:48:03.585 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:48:03.612 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:48:03.612 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:48:05.994 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 10:48:05.994 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 10:48:06.099 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 10:48:06.101 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 10:48:06.103 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 10:48:06.427 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 10:48:06.454 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:48:06.680 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 10:48:06.846 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:48:08.458 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 10:48:08.469 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 10:48:08.584 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 10:48:08.610 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 10:48:08.804 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 10:48:08.838 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:48:08.842 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:48:08.862 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:48:08.885 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:48:08.905 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:48:08.906 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:48:09.580 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 10:48:09.607 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 13.948 seconds (JVM running for 15.897)
2020-11-30 10:48:09.609 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 10:48:09.899 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:48:09.900 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:48:09.975 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 10:48:09.981 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:48:09.983 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 10:48:09.984 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:48:09.984 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 10:48:09.984 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:48:09.984 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 10:48:10.004 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:48:39.729 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:49:09.242 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:49:31.306 [reactor-http-nio-1] ERROR o.s.b.a.w.r.error.AbstractErrorWebExceptionHandler[122] - [4e84c1a6-4]  500 Server Error for HTTP GET "/whitzard-manager/hello/sayHi?name="
java.lang.NullPointerException: null
	at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ HTTP GET "/whitzard-manager/hello/sayHi?name=" [ExceptionHandlingWebHandler]
Stack trace:
		at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:138)
		at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:118)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:144)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:140)
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2344)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:103)
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:243)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:91)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:38)
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:120)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:228)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:70)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
		at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:211)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.netty.http.server.HttpServerHandle.onStateChange(HttpServerHandle.java:65)
		at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:518)
		at reactor.netty.tcp.TcpServerBind$ChildObserver.onStateChange(TcpServerBind.java:278)
		at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:475)
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:172)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:425)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		at java.lang.Thread.run(Thread.java:748)
2020-11-30 10:49:38.751 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:50:13.942 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:50:13.945 [com.alibaba.nacos.naming.beat.sender] WARN  com.alibaba.nacos.client.naming[94] - failed to request http://nacos.k8sml.test.yidian-inc.com/nacos/v1/ns/instance/beat?app=unknown&namespaceId=76ee77bd-b7d7-4a9d-94d2-fab208c237be&port=8001&clusterName=DEFAULT&ip=10.60.104.84&serviceName=dev%40%40whitzard-gateway&encoding=UTF-8 from 10.103.18.42
2020-11-30 10:50:14.294 [com.alibaba.nacos.naming.beat.sender] ERROR com.alibaba.nacos.client.naming[102] - [NA] failed to request 
java.net.SocketTimeoutException: null
	at java.net.SocksSocketImpl.remainingMillis(SocksSocketImpl.java:111)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.naming.net.HttpClient.request(HttpClient.java:86)
	at com.alibaba.nacos.client.naming.net.NamingProxy.callServer(NamingProxy.java:433)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:468)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:401)
	at com.alibaba.nacos.client.naming.net.NamingProxy.sendBeat(NamingProxy.java:343)
	at com.alibaba.nacos.client.naming.beat.BeatReactor$BeatTask.run(BeatReactor.java:108)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-11-30 10:50:14.324 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[176] - modified ips(1) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":false,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:50:30.753 [com.alibaba.nacos.client.naming.updater] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":false,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:50:33.749 [reactor-http-nio-1] ERROR o.s.b.a.w.r.error.AbstractErrorWebExceptionHandler[122] - [4e84c1a6-5]  500 Server Error for HTTP GET "/whitzard-manager/hello/sayHi?name="
java.lang.NullPointerException: null
	at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ HTTP GET "/whitzard-manager/hello/sayHi?name=" [ExceptionHandlingWebHandler]
Stack trace:
		at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:138)
		at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:118)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:144)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:140)
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2344)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:103)
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:243)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:91)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:38)
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:120)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:228)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:70)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
		at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:211)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.netty.http.server.HttpServerHandle.onStateChange(HttpServerHandle.java:65)
		at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:518)
		at reactor.netty.tcp.TcpServerBind$ChildObserver.onStateChange(TcpServerBind.java:278)
		at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:475)
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:172)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:425)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		at java.lang.Thread.run(Thread.java:748)
2020-11-30 10:50:35.158 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:50:35.164 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 10:50:35.165 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 10:50:35.166 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 10:50:35.174 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 10:50:35.313 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:50:35.318 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 10:50:35.318 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 10:50:35.330 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 10:51:47.889 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 10:51:48.943 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 10:51:49.029 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 10:51:49.099 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 10:51:49.111 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 10:51:49.135 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 10:51:49.167 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 10:51:49.180 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 10:51:50.578 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:51:50.579 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 10:51:50.748 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 154ms. Found 1 JPA repository interfaces.
2020-11-30 10:51:50.806 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:51:50.809 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 10:51:50.865 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 10:51:50.866 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 26ms. Found 0 Redis repository interfaces.
2020-11-30 10:51:51.048 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 10:51:51.252 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=a3be3156-c749-36fe-9e83-c784359cd679
2020-11-30 10:51:52.293 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:51:52.296 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:51:52.299 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:51:52.772 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 10:51:52.889 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 10:51:53.103 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 10:51:53.485 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 10:51:53.816 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 10:51:54.583 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 10:51:54.630 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 10:51:54.893 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 10:51:54.893 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 10:51:54.894 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 10:51:54.895 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 10:51:54.895 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 10:51:54.896 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 10:51:54.896 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 10:51:54.896 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 10:51:54.897 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 10:51:54.898 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 10:51:54.899 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 10:51:54.899 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 10:51:54.900 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 10:51:55.186 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:51:55.186 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:51:55.256 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:51:55.256 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:51:56.534 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 10:51:56.535 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 10:51:56.623 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 10:51:56.625 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 10:51:56.627 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 10:51:56.882 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 10:51:56.904 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:51:56.958 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 10:51:57.163 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:51:57.805 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 10:51:57.816 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 10:51:57.959 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 10:51:57.989 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 10:51:58.306 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 10:51:58.320 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:51:58.320 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:51:58.320 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:51:58.345 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:51:58.346 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:51:58.346 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:51:58.789 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 10:51:58.813 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 12.264 seconds (JVM running for 14.411)
2020-11-30 10:51:58.815 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 10:51:59.232 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 10:51:59.237 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:51:59.239 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 10:51:59.239 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:51:59.239 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 10:51:59.240 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:51:59.240 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 10:51:59.256 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:52:20.466 [reactor-http-nio-3] ERROR o.s.b.a.w.r.error.AbstractErrorWebExceptionHandler[122] - [7bb1cb75-1]  500 Server Error for HTTP GET "/whitzard-manager/hello/sayHi?name="
java.lang.NullPointerException: null
	at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ HTTP GET "/whitzard-manager/hello/sayHi?name=" [ExceptionHandlingWebHandler]
Stack trace:
		at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:138)
		at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:118)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:144)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:140)
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2344)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:103)
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:243)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:91)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:38)
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:120)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:228)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:70)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
		at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:211)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.netty.http.server.HttpServerHandle.onStateChange(HttpServerHandle.java:65)
		at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:518)
		at reactor.netty.tcp.TcpServerBind$ChildObserver.onStateChange(TcpServerBind.java:278)
		at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:475)
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:172)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:425)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		at java.lang.Thread.run(Thread.java:748)
2020-11-30 10:54:50.238 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 10:54:51.747 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 10:54:51.800 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 10:54:51.861 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 10:54:51.873 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 10:54:51.887 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 10:54:51.904 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 10:54:51.911 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 10:54:53.089 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:54:53.090 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 10:54:53.237 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 134ms. Found 1 JPA repository interfaces.
2020-11-30 10:54:53.256 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 10:54:53.257 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 10:54:53.278 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 10:54:53.278 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2020-11-30 10:54:53.422 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 10:54:53.590 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=a3be3156-c749-36fe-9e83-c784359cd679
2020-11-30 10:54:53.979 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:54:53.982 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:54:53.984 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 10:54:54.342 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 10:54:54.402 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 10:54:54.491 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 10:54:54.862 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 10:54:55.248 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 10:54:55.989 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 10:54:56.060 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 10:54:56.311 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 10:54:56.311 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 10:54:56.312 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 10:54:56.318 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 10:54:56.319 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 10:54:56.320 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 10:54:56.321 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 10:54:56.321 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 10:54:56.321 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 10:54:56.322 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 10:54:56.322 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 10:54:56.322 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 10:54:56.322 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 10:54:56.493 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:54:56.493 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:54:56.502 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 10:54:56.502 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 10:54:57.680 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 10:54:57.681 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 10:54:57.751 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 10:54:57.752 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 10:54:57.754 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 10:54:57.943 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 10:54:57.968 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 10:54:58.058 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 10:54:58.228 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:54:58.749 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 10:54:58.759 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 10:54:58.877 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 10:54:58.907 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 10:54:59.432 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 10:54:59.448 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:54:59.449 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:54:59.455 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:54:59.470 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 10:54:59.470 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 10:54:59.470 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 10:54:59.977 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 10:55:00.009 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 11.768 seconds (JVM running for 13.557)
2020-11-30 10:55:00.012 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 10:55:00.489 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 10:55:00.495 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:55:00.498 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 10:55:00.498 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:55:00.498 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 10:55:00.499 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 10:55:00.499 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 10:55:00.510 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 10:55:15.465 [reactor-http-nio-3] ERROR o.s.b.a.w.r.error.AbstractErrorWebExceptionHandler[122] - [d59bfb75-1]  500 Server Error for HTTP GET "/whitzard-manager/hello/sayHi?name="
java.lang.NullPointerException: null
	at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ HTTP GET "/whitzard-manager/hello/sayHi?name=" [ExceptionHandlingWebHandler]
Stack trace:
		at com.newpi.data.filter.AuthGlobalFilter.filter(AuthGlobalFilter.java:42)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:138)
		at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
		at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:118)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:144)
		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)
		at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274)
		at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851)
		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)
		at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:173)
		at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:140)
		at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2344)
		at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:103)
		at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:243)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:91)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:38)
		at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
		at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:120)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:228)
		at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:70)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
		at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441)
		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:211)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
		at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
		at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
		at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172)
		at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56)
		at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
		at reactor.netty.http.server.HttpServerHandle.onStateChange(HttpServerHandle.java:65)
		at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:518)
		at reactor.netty.tcp.TcpServerBind$ChildObserver.onStateChange(TcpServerBind.java:278)
		at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:475)
		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:172)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:425)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)
		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		at java.lang.Thread.run(Thread.java:748)
2020-11-30 10:55:15.672 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 10:55:15.676 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 10:55:15.677 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 10:55:15.678 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 10:55:15.823 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 11:02:36.280 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 11:02:37.820 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 11:02:38.065 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 11:02:38.153 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 11:02:38.174 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 11:02:38.190 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 11:02:38.209 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 11:02:38.220 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 11:02:40.045 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:02:40.047 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 11:02:40.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 147ms. Found 1 JPA repository interfaces.
2020-11-30 11:02:40.243 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:02:40.247 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 11:02:40.293 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 11:02:40.293 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-11-30 11:02:40.464 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 11:02:40.704 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=a3be3156-c749-36fe-9e83-c784359cd679
2020-11-30 11:02:41.208 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:02:41.211 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:02:41.215 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:02:41.695 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 11:02:41.790 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 11:02:41.925 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 11:02:42.313 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 11:02:42.634 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 11:02:43.517 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 11:02:43.640 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 11:02:43.901 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 11:02:43.902 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 11:02:43.902 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 11:02:43.903 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 11:02:43.903 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 11:02:43.904 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 11:02:43.904 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 11:02:43.905 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 11:02:43.905 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 11:02:43.906 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 11:02:43.906 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 11:02:43.907 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 11:02:43.907 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 11:02:44.072 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:02:44.073 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:02:44.084 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:02:44.084 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:02:45.312 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 11:02:45.313 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 11:02:45.390 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 11:02:45.392 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 11:02:45.394 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 11:02:45.694 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 11:02:45.710 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 11:02:45.726 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:02:45.878 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:02:46.492 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 11:02:46.503 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 11:02:46.660 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 11:02:46.688 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 11:02:46.973 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:02:46.993 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:02:46.995 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:02:46.997 [boundedElastic-5] WARN  com.alibaba.nacos.client.naming[113] - out of date data received, old-t: 1606705356058, new-t: 1606705356057
2020-11-30 11:02:46.998 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:02:46.999 [boundedElastic-8] WARN  com.alibaba.nacos.client.naming[113] - out of date data received, old-t: 1606705356067, new-t: 1606705356066
2020-11-30 11:02:47.020 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:02:47.020 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:02:47.024 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:02:47.435 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:02:47.464 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 12.707 seconds (JVM running for 14.334)
2020-11-30 11:02:47.466 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 11:02:47.875 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 11:02:47.880 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:02:47.881 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 11:02:47.882 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:02:47.882 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 11:02:47.882 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:02:47.883 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 11:02:47.902 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:03:16.423 [reactor-http-nio-3] INFO  com.netflix.config.ChainedDynamicProperty[115] - Flipping property: whitzard-manager.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2020-11-30 11:03:16.489 [reactor-http-nio-3] INFO  com.netflix.loadbalancer.BaseLoadBalancer[197] - Client: whitzard-manager instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=whitzard-manager,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2020-11-30 11:03:16.671 [reactor-http-nio-3] INFO  c.n.loadbalancer.DynamicServerListLoadBalancer[222] - Using serverListUpdater PollingServerListUpdater
2020-11-30 11:03:16.725 [reactor-http-nio-3] INFO  com.netflix.config.ChainedDynamicProperty[115] - Flipping property: whitzard-manager.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2020-11-30 11:03:16.730 [reactor-http-nio-3] INFO  c.n.loadbalancer.DynamicServerListLoadBalancer[150] - DynamicServerListLoadBalancer for client whitzard-manager initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=whitzard-manager,current list of Servers=[10.244.156.11:8010],Load balancer stats=Zone stats: {unknown=[Zone:unknown;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:10.244.156.11:8010;	Zone:UNKNOWN;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Thu Jan 01 08:00:00 CST 1970;	First connection made: Thu Jan 01 08:00:00 CST 1970;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:com.alibaba.cloud.nacos.ribbon.NacosServerList@507caffc
2020-11-30 11:03:16.803 [reactor-http-nio-3] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:03:16.804 [reactor-http-nio-3] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:03:17.634 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:03:17.694 [PollingServerListUpdater-0] INFO  com.netflix.config.ChainedDynamicProperty[115] - Flipping property: whitzard-manager.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2020-11-30 11:03:47.111 [reactor-http-nio-4] ERROR o.s.b.a.w.r.error.AbstractErrorWebExceptionHandler[122] - [b7a28b65-1]  500 Server Error for HTTP GET "/whitzard-manager/hello/sayHi?name="
io.netty.channel.ConnectTimeoutException: connection timed out: /10.244.156.11:8010
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	|_ checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	|_ checkpoint ⇢ HTTP GET "/whitzard-manager/hello/sayHi?name=" [ExceptionHandlingWebHandler]
Stack trace:
		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)
		at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)
		at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)
		at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:164)
		at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)
		at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		at java.lang.Thread.run(Thread.java:748)
2020-11-30 11:04:02.397 [Thread-60] INFO  com.netflix.loadbalancer.PollingServerListUpdater[53] - Shutting down the Executor Pool for PollingServerListUpdater
2020-11-30 11:04:02.417 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:04:02.426 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 11:04:02.427 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 11:04:02.428 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 11:04:02.443 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 11:04:02.590 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:04:02.592 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 11:04:02.593 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 11:04:02.602 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 11:31:23.685 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 11:31:24.876 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 11:31:24.940 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 11:31:25.023 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 11:31:25.035 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 11:31:25.050 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 11:31:25.076 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 11:31:25.083 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 11:31:27.131 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:31:27.131 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 11:31:27.576 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 429ms. Found 1 JPA repository interfaces.
2020-11-30 11:31:27.622 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:31:27.624 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 11:31:27.655 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 11:31:27.656 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2020-11-30 11:31:27.842 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 11:31:28.150 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=3945a310-6029-3ca1-b345-d44087d6bc12
2020-11-30 11:31:28.610 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:31:28.612 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:31:28.615 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:31:29.027 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 11:31:29.099 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 11:31:29.218 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 11:31:29.558 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 11:31:29.870 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 11:31:30.544 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 11:31:30.597 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 11:31:30.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 11:31:30.769 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 11:31:30.770 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 11:31:30.770 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 11:31:30.771 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 11:31:30.771 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 11:31:30.772 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 11:31:30.773 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 11:31:30.774 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 11:31:30.774 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 11:31:30.775 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 11:31:30.776 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 11:31:30.777 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 11:31:30.941 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:31:30.942 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:31:30.951 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:31:30.951 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:31:32.254 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 11:31:32.255 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 11:31:32.354 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 11:31:32.355 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 11:31:32.357 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 11:31:32.649 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 11:31:32.712 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 11:31:32.730 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:31:32.918 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:31:33.594 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 11:31:33.605 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 11:31:33.741 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 11:31:33.777 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 11:31:33.998 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:31:34.033 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:31:34.033 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:31:34.035 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:31:34.067 [boundedElastic-5] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:31:34.067 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:31:34.070 [boundedElastic-9] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:31:34.528 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:31:34.558 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 12.28 seconds (JVM running for 14.279)
2020-11-30 11:31:34.560 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 11:31:34.932 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 11:31:34.936 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:31:34.937 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 11:31:34.938 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:31:34.938 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 11:31:34.938 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:31:34.938 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 11:31:34.955 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:32:04.654 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:32:34.168 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:32:41.215 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:32:41.219 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 11:32:41.220 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 11:32:41.220 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 11:32:41.234 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 11:32:41.395 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:32:41.401 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 11:32:41.401 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 11:32:41.428 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 11:34:44.476 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 11:34:45.544 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 11:34:45.585 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 11:34:45.651 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 11:34:45.663 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 11:34:45.677 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 11:34:45.695 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 11:34:45.704 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 11:34:47.296 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:34:47.297 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 11:34:47.415 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 105ms. Found 1 JPA repository interfaces.
2020-11-30 11:34:47.434 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:34:47.435 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 11:34:47.458 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 11:34:47.458 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-11-30 11:34:47.664 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 11:34:47.826 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=3945a310-6029-3ca1-b345-d44087d6bc12
2020-11-30 11:34:48.420 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:34:48.422 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:34:48.424 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:34:48.774 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 11:34:48.837 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 11:34:48.937 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 11:34:49.339 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 11:34:49.612 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 11:34:50.292 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 11:34:50.339 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 11:34:50.498 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 11:34:50.499 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 11:34:50.499 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 11:34:50.500 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 11:34:50.500 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 11:34:50.501 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 11:34:50.505 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 11:34:50.508 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 11:34:50.508 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 11:34:50.509 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 11:34:50.509 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 11:34:50.510 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 11:34:50.511 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 11:34:50.701 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:34:50.701 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:34:50.713 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:34:50.714 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:34:51.861 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 11:34:51.862 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 11:34:51.925 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 11:34:51.926 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 11:34:51.927 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 11:34:52.140 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 11:34:52.171 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:34:52.188 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 11:34:52.326 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:34:52.815 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 11:34:52.826 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 11:34:52.948 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 11:34:52.971 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 11:34:53.201 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:34:53.212 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:34:53.212 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:34:53.212 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:34:53.229 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:34:53.229 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:34:53.230 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:34:53.629 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:34:53.664 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 10.475 seconds (JVM running for 12.0)
2020-11-30 11:34:53.668 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 11:34:53.964 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 11:34:53.968 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:34:53.969 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 11:34:53.969 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:34:53.970 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 11:34:53.970 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:34:53.970 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 11:34:53.990 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:35:23.694 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:35:37.430 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:35:37.433 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 11:35:37.434 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 11:35:37.434 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 11:35:37.449 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 11:35:37.591 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:35:37.593 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 11:35:37.595 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 11:35:37.620 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 11:35:52.689 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 11:35:53.842 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 11:35:53.897 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 11:35:53.947 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 11:35:53.958 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 11:35:53.972 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 11:35:53.986 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 11:35:53.993 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 11:35:55.309 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:35:55.310 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 11:35:55.452 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 130ms. Found 1 JPA repository interfaces.
2020-11-30 11:35:55.470 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:35:55.472 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 11:35:55.493 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 11:35:55.493 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2020-11-30 11:35:55.680 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 11:35:55.844 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=3945a310-6029-3ca1-b345-d44087d6bc12
2020-11-30 11:35:56.283 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:35:56.285 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:35:56.287 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:35:56.640 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 11:35:56.700 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 11:35:56.790 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 11:35:57.075 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 11:35:57.334 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 11:35:58.033 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 11:35:58.077 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 11:35:58.230 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 11:35:58.230 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 11:35:58.231 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 11:35:58.231 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 11:35:58.232 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 11:35:58.232 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 11:35:58.233 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 11:35:58.234 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 11:35:58.235 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 11:35:58.236 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 11:35:58.236 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 11:35:58.237 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 11:35:58.237 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 11:35:58.474 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:35:58.474 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:35:58.529 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:35:58.530 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:35:59.593 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 11:35:59.593 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 11:35:59.695 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 11:35:59.696 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 11:35:59.698 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 11:35:59.975 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 11:35:59.980 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 11:35:59.990 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:36:00.167 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:36:00.758 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 11:36:00.771 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 11:36:00.909 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 11:36:00.933 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 11:36:01.215 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:36:01.235 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:36:01.235 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:36:01.235 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:36:01.254 [boundedElastic-8] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:36:01.254 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:36:01.257 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:36:01.605 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:36:01.638 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 10.143 seconds (JVM running for 11.908)
2020-11-30 11:36:01.640 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 11:36:02.018 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 11:36:02.023 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:36:02.025 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 11:36:02.025 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:36:02.025 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 11:36:02.025 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:36:02.025 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 11:36:02.038 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:36:31.739 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:37:01.247 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:37:30.825 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:38:00.333 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:38:29.852 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:38:32.378 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:38:32.384 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 11:38:32.384 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 11:38:32.385 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 11:38:32.395 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 11:38:32.527 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:38:32.529 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 11:38:32.530 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 11:38:32.539 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 11:38:53.631 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 11:38:54.638 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 11:38:54.687 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 11:38:54.762 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 11:38:54.775 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 11:38:54.789 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 11:38:54.805 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 11:38:54.813 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 11:38:56.082 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:38:56.083 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 11:38:56.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 116ms. Found 1 JPA repository interfaces.
2020-11-30 11:38:56.294 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 11:38:56.298 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 11:38:56.332 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 11:38:56.332 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 14ms. Found 0 Redis repository interfaces.
2020-11-30 11:38:56.487 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 11:38:56.696 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=3945a310-6029-3ca1-b345-d44087d6bc12
2020-11-30 11:38:57.154 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:38:57.157 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:38:57.162 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 11:38:57.554 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 11:38:57.618 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 11:38:57.731 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 11:38:58.038 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 11:38:58.337 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 11:38:59.011 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 11:38:59.056 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 11:38:59.337 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 11:38:59.337 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 11:38:59.337 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 11:38:59.338 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 11:38:59.338 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 11:38:59.338 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 11:38:59.339 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 11:38:59.339 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 11:38:59.340 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 11:38:59.340 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 11:38:59.340 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 11:38:59.341 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 11:38:59.341 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 11:38:59.502 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:38:59.502 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:38:59.510 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 11:38:59.511 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 11:39:00.694 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 11:39:00.694 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 11:39:00.790 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 11:39:00.792 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 11:39:00.793 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 11:39:00.923 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 11:39:00.949 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 11:39:01.093 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 11:39:01.320 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 11:39:01.854 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 11:39:01.872 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 11:39:01.987 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 11:39:02.011 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 11:39:02.301 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:39:02.302 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:39:02.302 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:39:02.310 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 11:39:02.323 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 11:39:02.323 [boundedElastic-3] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 11:39:02.323 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 11:39:02.804 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 11:39:02.830 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 10.5 seconds (JVM running for 12.007)
2020-11-30 11:39:02.833 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 11:39:03.167 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 11:39:03.171 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:39:03.173 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 11:39:03.173 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:39:03.173 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 11:39:03.173 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 11:39:03.174 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 11:39:03.209 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:39:32.986 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:40:02.495 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:40:32.070 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:41:01.663 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 11:41:31.258 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:07:51.204 [com.alibaba.nacos.naming.beat.sender] WARN  com.alibaba.nacos.client.naming[94] - failed to request http://nacos.k8sml.test.yidian-inc.com/nacos/v1/ns/instance/beat?app=unknown&namespaceId=76ee77bd-b7d7-4a9d-94d2-fab208c237be&port=8001&clusterName=DEFAULT&ip=10.60.104.84&serviceName=dev%40%40whitzard-gateway&encoding=UTF-8 from 10.103.18.42
2020-11-30 12:07:51.212 [com.alibaba.nacos.naming.beat.sender] ERROR com.alibaba.nacos.client.naming[102] - [NA] failed to request 
java.net.ConnectException: Operation timed out (Connection timed out)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.naming.net.HttpClient.request(HttpClient.java:86)
	at com.alibaba.nacos.client.naming.net.NamingProxy.callServer(NamingProxy.java:433)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:468)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:401)
	at com.alibaba.nacos.client.naming.net.NamingProxy.sendBeat(NamingProxy.java:343)
	at com.alibaba.nacos.client.naming.beat.BeatReactor$BeatTask.run(BeatReactor.java:108)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-11-30 12:07:51.369 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}
2020-11-30 12:08:08.994 [whitzard-ds housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - whitzard-ds - Thread starvation or clock leap detected (housekeeper delta=26m39s843ms).
2020-11-30 12:08:12.376 [Nacso-Watch-Task-Scheduler-1] ERROR o.s.cloud.gateway.route.CachingRouteLocator[96] - Refresh routes error !!!
reactor.core.Exceptions$ErrorCallbackNotImplemented: org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: Connection reset by peer
Caused by: org.springframework.data.redis.RedisSystemException: Redis exception; nested exception is io.lettuce.core.RedisException: java.io.IOException: Connection reset by peer
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:74)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:273)
	at org.springframework.data.redis.connection.lettuce.LettuceHashCommands.convertLettuceAccessException(LettuceHashCommands.java:471)
	at org.springframework.data.redis.connection.lettuce.LettuceHashCommands.hVals(LettuceHashCommands.java:371)
	at org.springframework.data.redis.connection.DefaultedRedisConnection.hVals(DefaultedRedisConnection.java:1164)
	at org.springframework.data.redis.core.DefaultHashOperations.lambda$values$11(DefaultHashOperations.java:219)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:228)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:188)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultHashOperations.values(DefaultHashOperations.java:219)
	at com.newpi.data.service.RedisRouteDefinitionRepository.getRouteDefinitions(RedisRouteDefinitionRepository.java:33)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:201)
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:191)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
	at reactor.core.publisher.Flux.subscribe(Flux.java:8325)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:230)
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:267)
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:225)
	at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:191)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:161)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4213)
	at reactor.core.publisher.Mono.subscribeWith(Mono.java:4324)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4184)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4120)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4067)
	at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:82)
	at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:40)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:68)
	at org.springframework.cloud.gateway.route.RouteRefreshListener.resetIfNeeded(RouteRefreshListener.java:63)
	at org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:57)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at com.alibaba.cloud.nacos.discovery.NacosWatch.nacosServicesWatch(NacosWatch.java:130)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:308)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisException: java.io.IOException: Connection reset by peer
	at io.lettuce.core.LettuceFutures.awaitOrCancel(LettuceFutures.java:134)
	at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:75)
	at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:79)
	at com.sun.proxy.$Proxy167.hvals(Unknown Source)
	at org.springframework.data.redis.connection.lettuce.LettuceHashCommands.hVals(LettuceHashCommands.java:369)
	... 50 common frames omitted
Caused by: java.io.IOException: Connection reset by peer
	at sun.nio.ch.FileDispatcherImpl.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2020-11-30 12:08:12.480 [lettuce-eventExecutorLoop-3-1] INFO  io.lettuce.core.protocol.ConnectionWatchdog[171] - Reconnecting, last destination was /10.103.18.42:32379
2020-11-30 12:08:12.498 [lettuce-nioEventLoop-5-2] INFO  io.lettuce.core.protocol.ReconnectionHandler[194] - Reconnected to 10.103.18.42:32379
2020-11-30 12:08:26.100 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] ERROR c.alibaba.nacos.client.config.http.ServerHttpAgent[159] - [NACOS SocketTimeoutException httpPost] currentServerAddr: http://nacos.k8sml.test.yidian-inc.com， err : Read timed out
2020-11-30 12:08:26.101 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] ERROR c.alibaba.nacos.client.config.http.ServerHttpAgent[177] - no available server, currentServerAddr : http://nacos.k8sml.test.yidian-inc.com
2020-11-30 12:08:26.101 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] ERROR com.alibaba.nacos.client.config.impl.ClientWorker[398] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [check-update] get changed dataId exception
java.net.ConnectException: no available server, currentServerAddr : http://nacos.k8sml.test.yidian-inc.com
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpPost(ServerHttpAgent.java:178)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpPost(MetricsHttpAgent.java:64)
	at com.alibaba.nacos.client.config.impl.ClientWorker.checkUpdateConfigStr(ClientWorker.java:386)
	at com.alibaba.nacos.client.config.impl.ClientWorker.checkUpdateDataIds(ClientWorker.java:354)
	at com.alibaba.nacos.client.config.impl.ClientWorker$LongPollingRunnable.run(ClientWorker.java:521)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-11-30 12:08:26.102 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] ERROR com.alibaba.nacos.client.config.impl.ClientWorker[563] - longPolling error : 
java.net.ConnectException: no available server, currentServerAddr : http://nacos.k8sml.test.yidian-inc.com
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpPost(ServerHttpAgent.java:178)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpPost(MetricsHttpAgent.java:64)
	at com.alibaba.nacos.client.config.impl.ClientWorker.checkUpdateConfigStr(ClientWorker.java:386)
	at com.alibaba.nacos.client.config.impl.ClientWorker.checkUpdateDataIds(ClientWorker.java:354)
	at com.alibaba.nacos.client.config.impl.ClientWorker$LongPollingRunnable.run(ClientWorker.java:521)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-11-30 12:08:57.649 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:09:27.157 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:09:56.666 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:10:26.175 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:10:55.687 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:11:25.204 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:11:54.799 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:12:24.309 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:12:53.827 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:13:23.338 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:13:40.398 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 12:13:40.405 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 12:13:40.406 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 12:13:40.407 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 12:13:40.421 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 12:13:40.626 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 12:13:40.645 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 12:13:40.647 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 12:13:40.668 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
2020-11-30 12:16:10.682 [background-preinit] INFO  org.hibernate.validator.internal.util.Version[21] - HV000001: Hibernate Validator 6.1.6.Final
2020-11-30 12:16:11.870 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-11-30 12:16:11.924 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-11-30 12:16:12.011 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway] & group[dev]
2020-11-30 12:16:12.022 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-gateway.yaml] & group[dev]
2020-11-30 12:16:12.037 [main] INFO  com.alibaba.nacos.client.config.utils.JVMUtil[47] - isMultiInstance:false
2020-11-30 12:16:12.063 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-gateway,dev'}]
2020-11-30 12:16:12.077 [main] INFO  com.newpi.data.WhitzardGateway[655] - The following profiles are active: dev
2020-11-30 12:16:13.561 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 12:16:13.562 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-11-30 12:16:13.674 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 98ms. Found 1 JPA repository interfaces.
2020-11-30 12:16:13.698 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-11-30 12:16:13.700 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-11-30 12:16:13.725 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.GatewayRouteDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-11-30 12:16:13.726 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 9ms. Found 0 Redis repository interfaces.
2020-11-30 12:16:13.870 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-11-30 12:16:14.029 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=3945a310-6029-3ca1-b345-d44087d6bc12
2020-11-30 12:16:14.460 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 12:16:14.462 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 12:16:14.466 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-30 12:16:14.852 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-11-30 12:16:14.921 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-11-30 12:16:15.035 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-11-30 12:16:15.384 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-11-30 12:16:15.682 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - whitzard-ds - Starting...
2020-11-30 12:16:16.531 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - whitzard-ds - Start completed.
2020-11-30 12:16:16.590 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-11-30 12:16:17.003 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [After]
2020-11-30 12:16:17.004 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Before]
2020-11-30 12:16:17.004 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Between]
2020-11-30 12:16:17.005 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Cookie]
2020-11-30 12:16:17.005 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Header]
2020-11-30 12:16:17.006 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Host]
2020-11-30 12:16:17.006 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Method]
2020-11-30 12:16:17.007 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Path]
2020-11-30 12:16:17.007 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Query]
2020-11-30 12:16:17.008 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2020-11-30 12:16:17.009 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [RemoteAddr]
2020-11-30 12:16:17.010 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [Weight]
2020-11-30 12:16:17.011 [main] INFO  o.s.c.gateway.route.RouteDefinitionRouteLocator[139] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2020-11-30 12:16:17.322 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 12:16:17.322 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 12:16:17.336 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-11-30 12:16:17.337 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-11-30 12:16:18.597 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-11-30 12:16:18.597 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-11-30 12:16:18.686 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-11-30 12:16:18.689 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-11-30 12:16:18.690 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-11-30 12:16:18.956 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-11-30 12:16:18.974 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 12:16:18.981 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 20 endpoint(s) beneath base path '/actuator'
2020-11-30 12:16:19.176 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 12:16:19.789 [main] INFO  o.s.boot.web.embedded.netty.NettyWebServer[109] - Netty started on port(s): 8001
2020-11-30 12:16:19.800 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.84","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8001,"scheduled":false,"serviceName":"dev@@whitzard-gateway","stopped":false,"weight":1.0} to beat map.
2020-11-30 12:16:19.913 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"weight":1.0}
2020-11-30 12:16:19.940 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-gateway 10.60.104.84:8001 register finished
2020-11-30 12:16:20.210 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 12:16:20.210 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[164] - new ips(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 12:16:20.211 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[164] - new ips(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 12:16:20.213 [boundedElastic-5] WARN  com.alibaba.nacos.client.naming[113] - out of date data received, old-t: 1606709768909, new-t: 1606709768908
2020-11-30 12:16:20.218 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-11-30 12:16:20.233 [boundedElastic-6] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-manager -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.156.11#8010#DEFAULT#dev@@whitzard-manager","ip":"10.244.156.11","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8010,"serviceName":"dev@@whitzard-manager","weight":1.0}]
2020-11-30 12:16:20.233 [boundedElastic-7] INFO  com.alibaba.nacos.client.naming[200] - current ips:(1) service: dev@@whitzard-auth -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.187.159#8002#DEFAULT#dev@@whitzard-auth","ip":"10.244.187.159","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}]
2020-11-30 12:16:20.233 [boundedElastic-4] INFO  com.alibaba.nacos.client.naming[200] - current ips:(2) service: dev@@whitzard-gateway -> [{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.244.129.115#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.244.129.115","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0},{"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceId":"10.60.104.84#8001#DEFAULT#dev@@whitzard-gateway","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8001,"serviceName":"dev@@whitzard-gateway","weight":1.0}]
2020-11-30 12:16:20.602 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-11-30 12:16:20.628 [main] INFO  com.newpi.data.WhitzardGateway[61] - Started WhitzardGateway in 11.668 seconds (JVM running for 13.87)
2020-11-30 12:16:20.630 [main] INFO  com.newpi.data.service.GatewayRouteHandler[57] - ====开始加载=====网关配置信息=========
2020-11-30 12:16:21.023 [main] INFO  com.newpi.data.service.GatewayRouteHandler[70] - =======网关配置信息===加载完成======
2020-11-30 12:16:21.028 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 12:16:21.029 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway-dev.yaml, group=dev, cnt=1
2020-11-30 12:16:21.030 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 12:16:21.030 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway.yaml, group=dev, cnt=1
2020-11-30 12:16:21.030 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-gateway+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-11-30 12:16:21.031 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-gateway, group=dev, cnt=1
2020-11-30 12:16:21.047 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-11-30 12:16:36.159 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-11-30 12:16:36.166 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-11-30 12:16:36.167 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-gateway:10.60.104.84:8001 from beat map.
2020-11-30 12:16:36.167 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.84","ipDeleteTimeout":30000,"metadata":{},"port":8001,"weight":1.0}
2020-11-30 12:16:36.190 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-11-30 12:16:36.327 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-11-30 12:16:36.329 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-11-30 12:16:36.330 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - whitzard-ds - Shutdown initiated...
2020-11-30 12:16:36.342 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - whitzard-ds - Shutdown completed.
