2020-12-07 15:00:56.737 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:00:56.809 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:00:56.913 [main] ERROR c.alibaba.nacos.client.config.http.ServerHttpAgent[106] - [NACOS IOException httpGet] currentServerAddr: http://nacos.k8sml.test.yidian-inc.com
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:142)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:56.914 [main] ERROR com.alibaba.nacos.client.config.impl.ClientWorker[235] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [sub-server] get server config exception, dataId=whitzard-auth, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:142)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:56.915 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[154] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get from server error, dataId=whitzard-auth, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, msg=ErrCode:500, ErrMsg:nacos.k8sml.test.yidian-inc.com
2020-12-07 15:00:56.916 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[158] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get snapshot ok, dataId=whitzard-auth, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, config=
2020-12-07 15:00:56.922 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:00:57.060 [main] ERROR c.alibaba.nacos.client.config.http.ServerHttpAgent[106] - [NACOS IOException httpGet] currentServerAddr: http://nacos.k8sml.test.yidian-inc.com
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:145)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:57.071 [main] ERROR com.alibaba.nacos.client.config.impl.ClientWorker[235] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [sub-server] get server config exception, dataId=whitzard-auth.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:145)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:57.081 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[154] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get from server error, dataId=whitzard-auth.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, msg=ErrCode:500, ErrMsg:nacos.k8sml.test.yidian-inc.com
2020-12-07 15:00:57.081 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[158] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get snapshot ok, dataId=whitzard-auth.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, config=
2020-12-07 15:00:57.082 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:00:57.083 [main] ERROR c.alibaba.nacos.client.config.http.ServerHttpAgent[106] - [NACOS IOException httpGet] currentServerAddr: http://nacos.k8sml.test.yidian-inc.com
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:150)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:57.084 [main] ERROR com.alibaba.nacos.client.config.impl.ClientWorker[235] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [sub-server] get server config exception, dataId=whitzard-auth-dev.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be
java.net.UnknownHostException: nacos.k8sml.test.yidian-inc.com
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.config.impl.HttpSimpleClient.httpGet(HttpSimpleClient.java:61)
	at com.alibaba.nacos.client.config.http.ServerHttpAgent.httpGet(ServerHttpAgent.java:88)
	at com.alibaba.nacos.client.config.http.MetricsHttpAgent.httpGet(MetricsHttpAgent.java:48)
	at com.alibaba.nacos.client.config.impl.ClientWorker.getServerConfig(ClientWorker.java:230)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfigInner(NacosConfigService.java:143)
	at com.alibaba.nacos.client.config.NacosConfigService.getConfig(NacosConfigService.java:92)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.loadNacosData(NacosPropertySourceBuilder.java:85)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceBuilder.build(NacosPropertySourceBuilder.java:74)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosPropertySource(NacosPropertySourceLocator.java:204)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadNacosDataIfPresent(NacosPropertySourceLocator.java:191)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.loadApplicationConfiguration(NacosPropertySourceLocator.java:150)
	at com.alibaba.cloud.nacos.client.NacosPropertySourceLocator.locate(NacosPropertySourceLocator.java:103)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:52)
	at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47)
	at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:98)
	at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
2020-12-07 15:00:57.086 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[154] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get from server error, dataId=whitzard-auth-dev.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, msg=ErrCode:500, ErrMsg:nacos.k8sml.test.yidian-inc.com
2020-12-07 15:00:57.087 [main] WARN  com.alibaba.nacos.client.config.NacosConfigService[158] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [get-config] get snapshot ok, dataId=whitzard-auth-dev.yaml, group=dev, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, config=
2020-12-07 15:00:57.087 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:00:57.089 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:00:57.103 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:00:59.654 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:00:59.654 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:00:59.812 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 142ms. Found 5 JPA repository interfaces.
2020-12-07 15:00:59.835 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:00:59.837 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:00:59.876 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:00:59.882 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:00:59.884 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:00:59.884 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:00:59.885 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:00:59.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 31ms. Found 0 Redis repository interfaces.
2020-12-07 15:01:00.074 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:01:00.449 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:01:01.005 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5e37fb82' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:01:01.056 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:01:02.026 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:01:02.056 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:01:02.057 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:01:02.057 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:01:02.271 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:01:02.272 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 5037 ms
2020-12-07 15:01:02.593 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:01:02.598 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:01:02.887 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:01:03.117 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:01:03.208 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:01:03.362 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:01:03.399 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:01:03.873 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:01:04.333 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:01:04.337 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:01:05.303 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:01:05.305 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:01:05.306 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:01:05.617 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:01:06.842 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@799206ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@524dd373, org.springframework.security.web.header.HeaderWriterFilter@4c599679, org.springframework.security.web.authentication.logout.LogoutFilter@32e7df65, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@7f53b345, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@46507dda, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca3acad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60251ddb, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@7f584d0c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37d3e740]
2020-12-07 15:01:06.852 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@453e1bba, org.springframework.security.web.context.SecurityContextPersistenceFilter@10cb5047, org.springframework.security.web.header.HeaderWriterFilter@26c2f767, org.springframework.security.web.csrf.CsrfFilter@558ed473, org.springframework.security.web.authentication.logout.LogoutFilter@7e9ed4df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a00237d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bc88295, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aade5a2, org.springframework.security.web.session.SessionManagementFilter@6a7ab205, org.springframework.security.web.access.ExceptionTranslationFilter@e2498a3]
2020-12-07 15:01:06.892 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:01:06.907 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:01:06.942 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:01:06.942 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:01:06.950 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:01:06.951 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:01:07.519 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:01:08.744 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:01:35.498 [task-1] ERROR com.zaxxer.hikari.pool.HikariPool[593] - HikariPool-1 - Exception during pool initialization.
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:456)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:176)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:144)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826)
	... 34 common frames omitted
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 37 common frames omitted
2020-12-07 15:01:35.500 [task-1] WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator[132] - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2020-12-07 15:01:35.521 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:01:35.593 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:01:35.605 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"192.168.43.72","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:01:35.823 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"192.168.43.72","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:01:35.876 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 192.168.43.72:8002 register finished
2020-12-07 15:01:35.880 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:01:35.908 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:01:36.002 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:01:36.381 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:01:36.401 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:01:36.406 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:01:36.410 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:01:36.422 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:01:36.441 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:01:36.460 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:01:36.472 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:01:36.477 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:01:36.486 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:01:36.526 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:01:36.756 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext[559] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rolePermissionDao' defined in com.newpi.data.dao.RolePermissionDao defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2020-12-07 15:01:36.760 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:01:36.760 [main] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:192.168.43.72:8002 from beat map.
2020-12-07 15:01:36.760 [main] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"192.168.43.72","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:01:36.784 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:01:36.841 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:01:36.841 [main] WARN  o.s.beans.factory.support.DisposableBeanAdapter[267] - Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2020-12-07 15:01:36.841 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:01:36.850 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Pausing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:01:36.858 [main] INFO  org.apache.catalina.core.StandardService[173] - Stopping service [Tomcat]
2020-12-07 15:01:36.873 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Stopping ProtocolHandler ["http-nio-8002"]
2020-12-07 15:01:36.928 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Destroying ProtocolHandler ["http-nio-8002"]
2020-12-07 15:01:36.974 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener[136] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-12-07 15:01:36.993 [main] ERROR org.springframework.boot.SpringApplication[837] - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rolePermissionDao' defined in com.newpi.data.dao.RolePermissionDao defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1697)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1442)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:624)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:612)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 28 common frames omitted
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:176)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 18 common frames omitted
2020-12-07 15:02:24.845 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:02:24.917 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:02:25.006 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:02:25.029 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:02:25.047 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:02:25.053 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:02:25.067 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:02:26.806 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:02:26.806 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:02:26.947 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 129ms. Found 5 JPA repository interfaces.
2020-12-07 15:02:26.965 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:02:26.967 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:02:26.989 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:02:26.989 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:02:26.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:02:26.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:02:26.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:02:26.991 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2020-12-07 15:02:27.172 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:02:27.421 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:02:27.819 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27d73d22' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:02:27.834 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:02:28.435 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:02:28.452 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:02:28.453 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:02:28.453 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:02:28.606 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:02:28.606 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3494 ms
2020-12-07 15:02:28.887 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:02:28.887 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:02:29.140 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:02:29.389 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:02:29.464 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:02:29.557 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:02:29.558 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:02:29.860 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:02:30.103 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:02:30.106 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:02:30.871 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:02:30.937 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:02:31.192 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:02:31.194 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:02:31.195 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:02:31.621 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:02:33.010 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:02:33.013 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b72b13a, org.springframework.security.web.context.SecurityContextPersistenceFilter@33425171, org.springframework.security.web.header.HeaderWriterFilter@7962c1d5, org.springframework.security.web.authentication.logout.LogoutFilter@47f5ab58, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@64d42d3d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5f190cfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40fd1a78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51a69e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63e648a0, org.springframework.security.web.session.SessionManagementFilter@277474fc, org.springframework.security.web.access.ExceptionTranslationFilter@14b4d90b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ac1161f]
2020-12-07 15:02:33.027 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71a7cf7c, org.springframework.security.web.context.SecurityContextPersistenceFilter@69b80603, org.springframework.security.web.header.HeaderWriterFilter@73b10975, org.springframework.security.web.csrf.CsrfFilter@39451d92, org.springframework.security.web.authentication.logout.LogoutFilter@eb1e868, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5655278d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dd46693, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f49df25, org.springframework.security.web.session.SessionManagementFilter@6318ff9, org.springframework.security.web.access.ExceptionTranslationFilter@3d605657]
2020-12-07 15:02:33.032 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:02:33.118 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:02:33.133 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:02:33.167 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:02:33.168 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:02:33.174 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:02:33.175 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:02:33.610 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:02:34.034 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:02:34.100 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:02:34.143 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:02:34.148 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:02:34.238 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:02:34.272 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:02:34.275 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:02:34.294 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:02:34.378 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:02:34.600 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:02:34.610 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:02:34.613 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:02:34.615 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:02:34.621 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:02:34.628 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:02:34.636 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:02:34.640 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:02:34.643 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:02:34.645 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:02:34.671 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:02:35.776 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:02:35.820 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 13.573 seconds (JVM running for 15.458)
2020-12-07 15:02:35.849 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:02:35.854 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:02:35.855 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:02:35.856 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:02:35.856 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:02:35.857 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:02:35.872 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:02:35.882 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:02:35.883 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:02:35.902 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 19 ms
2020-12-07 15:02:45.720 [http-nio-8002-exec-3] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:03:05.653 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:04:24.660 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s682ms).
2020-12-07 15:04:24.662 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:04:24.687 [com.alibaba.nacos.naming.beat.sender] WARN  com.alibaba.nacos.client.naming[94] - failed to request http://nacos.k8sml.test.yidian-inc.com/nacos/v1/ns/instance/beat?app=unknown&namespaceId=76ee77bd-b7d7-4a9d-94d2-fab208c237be&port=8002&clusterName=DEFAULT&ip=10.60.104.74&serviceName=dev%40%40whitzard-auth&encoding=UTF-8 from 10.103.18.42
2020-12-07 15:04:24.688 [com.alibaba.nacos.naming.beat.sender] ERROR com.alibaba.nacos.client.naming[102] - [NA] failed to request 
java.net.SocketTimeoutException: null
	at java.net.SocksSocketImpl.remainingMillis(SocksSocketImpl.java:111)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:175)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at com.alibaba.nacos.client.naming.net.HttpClient.request(HttpClient.java:86)
	at com.alibaba.nacos.client.naming.net.NamingProxy.callServer(NamingProxy.java:433)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:468)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqAPI(NamingProxy.java:401)
	at com.alibaba.nacos.client.naming.net.NamingProxy.sendBeat(NamingProxy.java:343)
	at com.alibaba.nacos.client.naming.beat.BeatReactor$BeatTask.run(BeatReactor.java:108)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:04:25.975 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}
2020-12-07 15:06:38.805 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:06:38.806 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m14s146ms).
2020-12-07 15:06:38.806 [http-nio-8002-exec-4] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:07:08.317 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:07:15.333 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:07:15.346 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:07:15.347 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:07:15.349 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:07:15.362 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:07:15.384 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:07:15.386 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:07:15.387 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:07:15.397 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:07:23.803 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:07:23.855 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:07:23.916 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:07:23.933 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:07:23.943 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:07:23.944 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:07:23.951 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:07:25.457 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:07:25.457 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:07:25.574 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 106ms. Found 5 JPA repository interfaces.
2020-12-07 15:07:25.591 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:07:25.592 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:07:25.612 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:07:25.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:07:25.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:07:25.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:07:25.614 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:07:25.614 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 15:07:25.763 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:07:25.963 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:07:26.295 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1f172892' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:07:26.310 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:07:26.843 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:07:26.856 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:07:26.858 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:07:26.858 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:07:26.976 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:07:26.977 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 2994 ms
2020-12-07 15:07:27.240 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:07:27.240 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:07:27.455 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:07:27.647 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:07:27.763 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:07:27.832 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:07:27.842 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:07:28.105 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:07:28.306 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:07:28.309 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:07:28.947 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:07:28.991 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:07:29.176 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:07:29.177 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:07:29.179 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:07:29.494 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:07:37.380 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:07:37.397 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:07:37.409 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a08e41b, org.springframework.security.web.context.SecurityContextPersistenceFilter@f13e0a2, org.springframework.security.web.header.HeaderWriterFilter@64921450, org.springframework.security.web.authentication.logout.LogoutFilter@77648321, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@68af8288, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32f45e15, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e481512, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e08d871, org.springframework.security.web.session.SessionManagementFilter@4c599679, org.springframework.security.web.access.ExceptionTranslationFilter@50b2ba2c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75df4b1d]
2020-12-07 15:07:37.417 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8ab231, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ab3f194, org.springframework.security.web.header.HeaderWriterFilter@2748bd6c, org.springframework.security.web.csrf.CsrfFilter@5169db2f, org.springframework.security.web.authentication.logout.LogoutFilter@32068aef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@613a608e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37b1218, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b3a8bea, org.springframework.security.web.session.SessionManagementFilter@64a4739, org.springframework.security.web.access.ExceptionTranslationFilter@3bf41cd0]
2020-12-07 15:07:37.467 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:07:37.482 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:07:37.511 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:07:37.512 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:07:37.518 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:07:37.518 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:07:37.933 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:07:38.355 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:07:38.413 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:07:38.466 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:07:38.480 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:07:38.615 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:07:38.638 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:07:38.641 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:07:38.659 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:07:38.736 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:07:38.955 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:07:38.967 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:07:38.969 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:07:38.971 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:07:38.976 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:07:38.984 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:07:38.992 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:07:38.996 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:07:38.999 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:07:39.001 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:07:39.018 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:07:39.718 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:07:39.734 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 18.075 seconds (JVM running for 19.755)
2020-12-07 15:07:39.751 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:07:39.753 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:07:39.753 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:07:39.753 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:07:39.754 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:07:39.754 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:07:39.779 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:07:44.681 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:07:44.682 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:07:44.698 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 16 ms
2020-12-07 15:07:49.297 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:08:09.473 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:08:39.068 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:09:08.670 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:09:25.642 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:09:25.653 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:09:25.653 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:09:25.654 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:09:25.670 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:09:25.692 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:09:25.695 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:09:25.695 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:09:25.706 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:09:33.801 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:09:33.870 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:09:33.932 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:09:33.945 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:09:33.956 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:09:33.957 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:09:33.963 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:09:35.660 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:09:35.661 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:09:35.790 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 113ms. Found 5 JPA repository interfaces.
2020-12-07 15:09:35.808 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:09:35.810 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:09:35.829 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:09:35.829 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:09:35.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:09:35.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:09:35.831 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:09:35.831 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 15:09:36.020 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:09:36.234 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:09:36.601 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@66298fe9' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:09:36.618 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:09:37.147 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:09:37.160 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:09:37.161 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:09:37.161 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:09:37.278 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:09:37.278 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3258 ms
2020-12-07 15:09:37.588 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:09:37.589 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:09:37.856 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:09:38.093 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:09:38.152 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:09:38.225 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:09:38.232 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:09:38.576 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:09:39.290 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:09:39.294 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:09:40.516 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:09:40.572 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:09:40.827 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:09:40.829 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:09:40.831 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:09:41.408 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:09:45.632 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:09:45.664 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:09:45.728 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5afba80c, org.springframework.security.web.context.SecurityContextPersistenceFilter@78a34c47, org.springframework.security.web.header.HeaderWriterFilter@5ca3acad, org.springframework.security.web.authentication.logout.LogoutFilter@87f1201, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32068aef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43201f84, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58fbfefb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c4ca86a, org.springframework.security.web.session.SessionManagementFilter@3d213a2b, org.springframework.security.web.access.ExceptionTranslationFilter@4b552b13, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3662c887]
2020-12-07 15:09:45.742 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d2afc39, org.springframework.security.web.context.SecurityContextPersistenceFilter@2059c3ff, org.springframework.security.web.header.HeaderWriterFilter@799206ad, org.springframework.security.web.csrf.CsrfFilter@66f5770e, org.springframework.security.web.authentication.logout.LogoutFilter@606f0f70, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f8ab988, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46c475ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e2498a3, org.springframework.security.web.session.SessionManagementFilter@60251ddb, org.springframework.security.web.access.ExceptionTranslationFilter@7d4e424e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e1c5d1f]
2020-12-07 15:09:45.806 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:09:45.823 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:09:45.896 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:09:45.896 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:09:45.905 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:09:45.906 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:09:46.344 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:09:46.790 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:09:46.852 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:09:46.893 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:09:46.900 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:09:46.986 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:09:47.013 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:09:47.019 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:09:47.042 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:09:47.122 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:09:47.301 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:09:47.310 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:09:47.316 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:09:47.318 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:09:47.321 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:09:47.329 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:09:47.335 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:09:47.339 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:09:47.342 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:09:47.344 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:09:47.360 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:09:48.039 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:09:48.055 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 16.303 seconds (JVM running for 17.706)
2020-12-07 15:09:48.066 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:09:48.068 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:09:48.068 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:09:48.068 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:09:48.068 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:09:48.069 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:09:48.085 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:09:54.159 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:09:54.159 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:09:54.173 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 13 ms
2020-12-07 15:10:17.783 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:10:47.304 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:11:16.812 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:11:46.375 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:12:15.883 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:12:45.414 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:12:52.683 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:12:52.692 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:12:52.693 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:12:52.693 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:12:52.705 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:12:52.726 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:12:52.729 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:12:52.729 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:12:52.749 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:13:03.418 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:13:03.463 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:13:03.519 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:13:03.536 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:13:03.547 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:13:03.549 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:13:03.556 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:13:05.103 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:13:05.104 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:13:05.231 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 117ms. Found 5 JPA repository interfaces.
2020-12-07 15:13:05.249 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:13:05.250 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:13:05.269 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:13:05.270 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:13:05.270 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:13:05.271 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:13:05.271 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:13:05.271 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 15:13:05.432 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:13:05.640 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:13:05.988 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67b560fe' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:13:06.003 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:13:06.542 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:13:06.555 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:13:06.556 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:13:06.556 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:13:06.685 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:13:06.685 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3094 ms
2020-12-07 15:13:06.936 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:13:06.937 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:13:07.145 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:13:07.362 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:13:07.430 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:13:07.515 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:13:07.527 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:13:07.879 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:13:08.067 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:13:08.070 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:13:08.668 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:13:08.728 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:13:08.999 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:13:09.000 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:13:09.002 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:13:09.590 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:13:14.576 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:13:14.591 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:13:14.652 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c8a91e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@77972964, org.springframework.security.web.header.HeaderWriterFilter@55e88bc, org.springframework.security.web.authentication.logout.LogoutFilter@7af0693b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7fb9a83c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aa1fb0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44e0c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c7443f, org.springframework.security.web.session.SessionManagementFilter@7a7f2247, org.springframework.security.web.access.ExceptionTranslationFilter@417b3642, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ad0cd43]
2020-12-07 15:13:14.661 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e3d36c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f9d40b3, org.springframework.security.web.header.HeaderWriterFilter@5382a35f, org.springframework.security.web.csrf.CsrfFilter@37f627d0, org.springframework.security.web.authentication.logout.LogoutFilter@2ba9ed19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ca2a03f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a7c72af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4add4dff, org.springframework.security.web.session.SessionManagementFilter@7901a5ab, org.springframework.security.web.access.ExceptionTranslationFilter@65d2d3cc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@641cea11]
2020-12-07 15:13:14.712 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:13:14.728 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:13:14.769 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:13:14.769 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:13:14.775 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:13:14.775 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:13:15.212 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:13:15.712 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:13:15.852 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:13:15.897 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:13:15.902 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:13:16.000 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:13:16.027 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:13:16.030 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:13:16.050 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:13:16.129 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:13:16.311 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:13:16.321 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:13:16.323 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:13:16.326 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:13:16.330 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:13:16.339 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:13:16.347 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:13:16.351 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:13:16.355 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:13:16.357 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:13:16.379 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:13:17.441 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:13:17.469 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 16.2 seconds (JVM running for 18.113)
2020-12-07 15:13:17.484 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:13:17.485 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:13:17.485 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:13:17.485 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:13:17.486 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:13:17.486 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:13:17.518 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:13:19.905 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:13:19.906 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:13:19.921 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 14 ms
2020-12-07 15:13:30.758 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:13:47.208 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:14:11.446 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:14:11.453 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:14:11.453 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:14:11.454 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:14:11.488 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:14:11.509 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:14:11.512 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:14:11.512 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:14:11.524 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:14:21.905 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:14:21.939 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:14:21.991 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:14:22.004 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:14:22.018 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:14:22.019 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:14:22.026 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:14:23.557 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:14:23.557 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:14:23.693 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 124ms. Found 5 JPA repository interfaces.
2020-12-07 15:14:23.709 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:14:23.711 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:14:23.730 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:14:23.730 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:14:23.731 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:14:23.731 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:14:23.732 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:14:23.732 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 15:14:23.882 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:14:24.081 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:14:24.423 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@d504137' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:14:24.460 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:14:24.991 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:14:25.008 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:14:25.009 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:14:25.010 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:14:25.154 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:14:25.154 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3099 ms
2020-12-07 15:14:25.480 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:14:25.480 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:14:25.778 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:14:26.063 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:14:26.141 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:14:26.244 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:14:26.251 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:14:26.560 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:14:26.810 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:14:26.813 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:14:27.486 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:14:27.533 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:14:27.740 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:14:27.741 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:14:27.743 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:14:28.055 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:14:29.247 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:14:29.263 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:14:29.276 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b11deb6, org.springframework.security.web.context.SecurityContextPersistenceFilter@6870a76f, org.springframework.security.web.header.HeaderWriterFilter@3ee2d546, org.springframework.security.web.authentication.logout.LogoutFilter@77acc95a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@71b32407, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b11ff9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dc4ed6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d08a65c, org.springframework.security.web.session.SessionManagementFilter@1a34772e, org.springframework.security.web.access.ExceptionTranslationFilter@1f6ba47b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@359a2c96]
2020-12-07 15:14:29.298 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da1ef46, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f5a092e, org.springframework.security.web.header.HeaderWriterFilter@6520625f, org.springframework.security.web.csrf.CsrfFilter@20923380, org.springframework.security.web.authentication.logout.LogoutFilter@2b76ecd5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e0a112f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47fce2c4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@740fccd2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@abe7d36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1640a6b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70940cb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ae23815, org.springframework.security.web.session.SessionManagementFilter@1ee52741, org.springframework.security.web.access.ExceptionTranslationFilter@5b2c41f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bbe532b]
2020-12-07 15:14:29.358 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:14:29.373 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:14:29.403 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:14:29.403 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:14:29.409 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:14:29.410 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:14:29.841 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:14:30.253 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:14:30.313 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:14:30.365 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:14:30.370 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:14:30.458 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:14:30.521 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:14:30.524 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:14:30.543 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:14:30.616 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:14:30.801 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:14:30.810 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:14:30.812 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:14:30.814 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:14:30.818 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:14:30.824 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:14:30.829 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:14:30.833 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:14:30.835 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:14:30.837 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:14:30.853 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:14:31.540 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:14:31.556 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 13.045 seconds (JVM running for 14.388)
2020-12-07 15:14:31.566 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:14:31.568 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:14:31.568 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:14:31.568 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:14:31.568 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:14:31.568 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:14:31.597 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:14:35.809 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:14:35.810 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:14:35.826 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 16 ms
2020-12-07 15:14:48.446 [http-nio-8002-exec-3] ERROR o.s.s.w.a.UsernamePasswordAuthenticationFilter[221] - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:219)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:95)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:141)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.newpi.data.exception.WhitzardException: null
	at com.newpi.data.service.impl.UserServiceImpl.findByEmail(UserServiceImpl.java:96)
	at com.newpi.data.service.impl.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:120)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 58 common frames omitted
2020-12-07 15:14:48.458 [http-nio-8002-exec-4] ERROR o.a.c.c.C.[.[localhost].[/].[dispatcherServlet][175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.IllegalArgumentException: Input is required
	at org.springframework.util.Assert.notNull(Assert.java:201)
	at org.springframework.web.util.HtmlUtils.htmlEscape(HtmlUtils.java:83)
	at org.springframework.web.util.HtmlUtils.htmlEscape(HtmlUtils.java:63)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.createError(DefaultLoginPageGeneratingFilter.java:353)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.generateLoginPageHtml(DefaultLoginPageGeneratingFilter.java:253)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:207)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:15:01.346 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:15:06.959 [http-nio-8002-exec-6] ERROR o.s.s.w.a.UsernamePasswordAuthenticationFilter[221] - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException: 该账号已被锁定，请联系管理员!
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:123)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:219)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:95)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:141)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.security.authentication.LockedException: 该账号已被锁定，请联系管理员!
	at com.newpi.data.service.impl.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:129)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108)
	... 58 common frames omitted
2020-12-07 15:15:30.860 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:15:55.475 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:15:55.485 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:15:55.486 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:15:55.486 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:15:55.497 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:15:55.516 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:15:55.518 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:15:55.519 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:15:55.529 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:16:04.082 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:16:04.124 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:16:04.183 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:16:04.196 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:16:04.206 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:16:04.207 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:16:04.215 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:16:05.663 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:16:05.664 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:16:05.789 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 113ms. Found 5 JPA repository interfaces.
2020-12-07 15:16:05.806 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:16:05.807 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:16:05.826 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:16:05.826 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:16:05.827 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:16:05.827 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:16:05.828 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:16:05.828 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 15:16:05.982 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:16:06.184 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:16:06.509 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1ffd0114' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:16:06.523 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:16:07.071 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:16:07.085 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:16:07.086 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:16:07.086 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:16:07.217 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:16:07.217 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 2970 ms
2020-12-07 15:16:07.488 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:16:07.489 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:16:07.691 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:16:07.891 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:16:08.011 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:16:08.101 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:16:08.115 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:16:08.380 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:16:08.607 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:16:08.611 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:16:09.287 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:16:09.333 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:16:09.569 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:16:09.570 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:16:09.571 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:16:09.862 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:16:10.980 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:16:10.994 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:16:11.031 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b552b13, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fc051ce, org.springframework.security.web.header.HeaderWriterFilter@736f2fb8, org.springframework.security.web.authentication.logout.LogoutFilter@69fe8c75, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ef7ae2f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@558575fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29ae2517, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@524dd373, org.springframework.security.web.session.SessionManagementFilter@6d8096ee, org.springframework.security.web.access.ExceptionTranslationFilter@24a807a9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41f5389f]
2020-12-07 15:16:11.052 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@443b6765, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ddc889b, org.springframework.security.web.header.HeaderWriterFilter@2c51c756, org.springframework.security.web.csrf.CsrfFilter@27691ee8, org.springframework.security.web.authentication.logout.LogoutFilter@1db9c2cf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1afabf06, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@219a2203, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@a72925, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33060020, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec3689b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c0a6f62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4feaa4b8, org.springframework.security.web.session.SessionManagementFilter@4ef277ef, org.springframework.security.web.access.ExceptionTranslationFilter@43201f84, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@166a5659]
2020-12-07 15:16:11.101 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:16:11.115 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:16:11.143 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:16:11.143 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:16:11.150 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:16:11.150 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:16:11.578 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:16:12.035 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:16:12.093 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:16:12.137 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:16:12.142 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:16:12.232 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:16:12.258 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:16:12.262 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:16:12.286 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:16:12.367 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:16:12.570 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:16:12.583 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:16:12.585 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:16:12.587 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:16:12.592 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:16:12.599 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:16:12.604 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:16:12.609 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:16:12.611 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:16:12.613 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:16:12.630 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:16:13.328 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:16:13.344 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.335 seconds (JVM running for 12.986)
2020-12-07 15:16:13.356 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:16:13.358 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:16:13.359 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:16:13.359 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:16:13.359 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:16:13.360 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:16:13.372 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:16:13.383 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:16:25.573 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:16:25.573 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:16:25.586 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 13 ms
2020-12-07 15:16:43.123 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:17:11.553 [http-nio-8002-exec-10] ERROR com.newpi.data.exception.GlobalExceptionHandler[95] - null
com.newpi.data.exception.WhitzardException: null
	at com.newpi.data.service.impl.UserServiceImpl.findByEmail(UserServiceImpl.java:96)
	at com.newpi.data.controller.UserController.getByEmail(UserController.java:55)
	at com.newpi.data.controller.UserController$$FastClassBySpringCGLIB$$fb984277.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at com.newpi.data.log.WebLogAspect.doAround(WebLogAspect.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.newpi.data.controller.UserController$$EnhancerBySpringCGLIB$$e28fbb24.getByEmail(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:155)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:17:12.638 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:17:42.149 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:18:11.667 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:18:41.190 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:19:10.699 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:19:23.772 [http-nio-8002-exec-7] WARN  o.s.s.oauth2.provider.endpoint.TokenEndpoint[169] - Handling error: ClassCastException, com.newpi.data.model.UserDetail cannot be cast to com.newpi.data.entity.User
2020-12-07 15:19:40.216 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:20:09.766 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:20:39.274 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:20:41.631 [http-nio-8002-exec-9] WARN  o.s.s.oauth2.provider.endpoint.TokenEndpoint[185] - Handling error: InvalidGrantException, Invalid authorization code: 163h7E
2020-12-07 15:21:08.785 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:21:53.861 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:22:06.105 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}
2020-12-07 15:22:06.104 [http-nio-8002-exec-2] WARN  o.s.s.oauth2.provider.endpoint.TokenEndpoint[169] - Handling error: ClassCastException, com.newpi.data.model.UserDetail cannot be cast to com.newpi.data.entity.User
2020-12-07 15:22:23.441 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:22:37.411 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:22:37.417 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:22:37.417 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:22:37.418 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:22:37.427 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:22:37.467 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:22:37.473 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:22:37.474 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:22:37.485 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:22:46.718 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:22:46.772 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:22:46.839 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:22:46.849 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:22:46.858 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:22:46.859 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:22:46.866 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:22:48.402 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:22:48.403 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:22:48.546 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 127ms. Found 5 JPA repository interfaces.
2020-12-07 15:22:48.563 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:22:48.564 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:22:48.584 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:22:48.584 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:22:48.585 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:22:48.586 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:22:48.586 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:22:48.586 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 15:22:48.728 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:22:48.928 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:22:49.273 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@106cd9c8' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:22:49.289 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:22:49.810 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:22:49.823 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:22:49.824 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:22:49.824 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:22:49.957 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:22:49.958 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3056 ms
2020-12-07 15:22:50.195 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:22:50.195 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:22:50.415 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:22:50.605 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:22:50.722 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:22:50.804 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:22:50.814 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:22:51.077 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:22:51.269 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:22:51.271 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:22:51.954 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:22:51.993 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:22:52.179 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:22:52.180 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:22:52.182 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:22:52.472 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:22:53.684 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:22:53.704 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:22:53.729 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b984ba5, org.springframework.security.web.context.SecurityContextPersistenceFilter@48cbe1c9, org.springframework.security.web.header.HeaderWriterFilter@38834000, org.springframework.security.web.authentication.logout.LogoutFilter@3f2d2f22, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@43b74979, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@578c99ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46610fc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1812b564, org.springframework.security.web.session.SessionManagementFilter@63e648a0, org.springframework.security.web.access.ExceptionTranslationFilter@50dd1e3a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37fd496a]
2020-12-07 15:22:53.751 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47f416d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@43edd2ea, org.springframework.security.web.header.HeaderWriterFilter@140cfc5f, org.springframework.security.web.csrf.CsrfFilter@3cd28235, org.springframework.security.web.authentication.logout.LogoutFilter@24a1858a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ffa8126, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1631dbbc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@21be80f6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23ee70a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fc4038f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cd9ee2c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1af6d656, org.springframework.security.web.session.SessionManagementFilter@6b063695, org.springframework.security.web.access.ExceptionTranslationFilter@75312c94, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dbf727a]
2020-12-07 15:22:53.810 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:22:53.825 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:22:53.854 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:22:53.855 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:22:53.861 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:22:53.862 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:22:54.324 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:22:54.745 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:22:54.829 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:22:54.869 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:22:54.874 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:22:54.961 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:22:54.983 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:22:54.987 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:22:55.004 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:22:55.074 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:22:55.253 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:22:55.265 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:22:55.267 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:22:55.269 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:22:55.273 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:22:55.279 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:22:55.288 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:22:55.294 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:22:55.296 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:22:55.298 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:22:55.315 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:22:55.976 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:22:55.992 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.279 seconds (JVM running for 12.911)
2020-12-07 15:22:56.004 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:22:56.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:22:56.006 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:22:56.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:22:56.007 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:22:56.007 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:22:56.032 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:23:04.042 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:23:04.042 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:23:04.063 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 20 ms
2020-12-07 15:23:25.726 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:23:55.238 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:24:24.748 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:24:54.329 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:25:23.843 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:25:53.361 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:26:22.876 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:26:52.386 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:27:21.895 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:27:51.493 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:28:21.086 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:28:50.681 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:29:20.278 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:29:49.790 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:30:19.298 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:30:48.808 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:31:18.320 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:31:47.831 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:32:17.421 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:32:47.015 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:33:16.594 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:33:46.102 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:34:15.691 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:34:45.280 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:35:14.790 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:35:44.300 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:36:13.815 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:36:43.322 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:37:12.833 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:37:28.172 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:37:28.180 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:37:28.181 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:37:28.181 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:37:28.191 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:37:28.231 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:37:28.240 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:37:28.241 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:37:28.255 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:37:39.089 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:37:39.127 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:37:39.179 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:37:39.190 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:37:39.198 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:37:39.200 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:37:39.207 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:37:40.707 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:37:40.711 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:37:40.846 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 123ms. Found 5 JPA repository interfaces.
2020-12-07 15:37:40.863 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:37:40.864 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:37:40.883 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:37:40.884 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:37:40.884 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:37:40.885 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:37:40.886 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:37:40.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 15:37:41.025 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:37:41.233 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:37:41.553 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@236861da' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:37:41.572 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:37:42.095 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:37:42.108 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:37:42.109 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:37:42.110 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:37:42.245 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:37:42.245 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3007 ms
2020-12-07 15:37:42.497 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:37:42.497 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:37:42.729 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:37:42.909 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:37:42.974 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:37:43.054 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:37:43.067 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:37:43.349 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:37:43.639 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:37:43.641 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:37:44.276 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:37:44.332 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:37:44.573 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:37:44.575 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:37:44.577 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:37:44.962 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:37:46.143 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:37:46.160 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:37:46.169 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69fe8c75, org.springframework.security.web.context.SecurityContextPersistenceFilter@34f8ce89, org.springframework.security.web.header.HeaderWriterFilter@6fe337a5, org.springframework.security.web.authentication.logout.LogoutFilter@6aa18912, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a010eec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30ca66c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@792b9dd3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@633cad4d, org.springframework.security.web.session.SessionManagementFilter@618e7761, org.springframework.security.web.access.ExceptionTranslationFilter@66ab088c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25fcdcc6]
2020-12-07 15:37:46.178 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@257d3968, org.springframework.security.web.context.SecurityContextPersistenceFilter@61d24347, org.springframework.security.web.header.HeaderWriterFilter@13731ff4, org.springframework.security.web.csrf.CsrfFilter@46051269, org.springframework.security.web.authentication.logout.LogoutFilter@10b5ff4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@347f8029, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f78a5ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23cfdfa2, org.springframework.security.web.session.SessionManagementFilter@1ce8084a, org.springframework.security.web.access.ExceptionTranslationFilter@4803bf73, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a73f3d1]
2020-12-07 15:37:46.232 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:37:46.247 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:37:46.278 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:37:46.279 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:37:46.285 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:37:46.286 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:37:46.759 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:37:47.169 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:37:47.228 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:37:47.271 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:37:47.276 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:37:47.368 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:37:47.407 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:37:47.411 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:37:47.429 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:37:47.508 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:37:47.696 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:37:47.706 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:37:47.709 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:37:47.711 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:37:47.715 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:37:47.722 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:37:47.727 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:37:47.730 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:37:47.733 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:37:47.735 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:37:47.751 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:37:48.486 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:37:48.503 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 12.958 seconds (JVM running for 14.263)
2020-12-07 15:37:48.515 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:37:48.517 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:37:48.517 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:37:48.518 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:37:48.518 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:37:48.518 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:37:48.536 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:37:55.197 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:37:55.197 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:37:55.217 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 20 ms
2020-12-07 15:37:58.506 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:38:18.243 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:38:26.820 [http-nio-8002-exec-2] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:38:47.765 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:39:17.275 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:39:46.784 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:40:16.296 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:40:45.812 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:41:15.330 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:41:28.632 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:41:28.646 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:41:28.647 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:41:28.648 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:41:28.661 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:41:28.712 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:41:28.738 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:41:28.739 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:41:28.772 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:41:42.445 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:41:42.501 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:41:42.592 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:41:42.612 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:41:42.623 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:41:42.625 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:41:42.634 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:41:44.454 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:41:44.455 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:41:44.586 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 120ms. Found 5 JPA repository interfaces.
2020-12-07 15:41:44.609 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:41:44.610 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:41:44.635 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:41:44.635 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:41:44.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:41:44.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:41:44.636 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:41:44.637 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 13ms. Found 0 Redis repository interfaces.
2020-12-07 15:41:44.812 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:41:45.072 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:41:45.491 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@619c3546' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:41:45.510 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:41:46.082 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:41:46.098 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:41:46.099 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:41:46.100 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:41:46.250 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:41:46.252 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3560 ms
2020-12-07 15:41:46.535 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:41:46.535 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:41:46.800 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:41:47.053 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:41:47.125 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:41:47.206 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:41:47.223 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:41:47.570 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:41:47.866 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:41:47.871 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:41:48.633 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:41:48.690 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:41:48.995 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:41:48.998 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:41:48.999 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:41:49.383 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:41:50.397 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext[559] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 0 was already used on com.newpi.data.config.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$48823ac1@422ba9b7, so it cannot be used on org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$544a9260@89465d9 too.
2020-12-07 15:41:50.428 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:41:50.741 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:41:50.756 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:41:50.759 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:41:50.760 [main] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:41:50.772 [main] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:41:50.778 [main] INFO  org.apache.catalina.core.StandardService[173] - Stopping service [Tomcat]
2020-12-07 15:41:50.811 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener[136] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-12-07 15:41:50.830 [main] ERROR org.springframework.boot.SpringApplication[837] - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 0 was already used on com.newpi.data.config.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$48823ac1@422ba9b7, so it cannot be used on org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$544a9260@89465d9 too.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 0 was already used on com.newpi.data.config.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$48823ac1@422ba9b7, so it cannot be used on org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$544a9260@89465d9 too.
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:755)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 18 common frames omitted
2020-12-07 15:42:26.296 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:42:26.365 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:42:26.442 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:42:26.452 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:42:26.464 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:42:26.466 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:42:26.475 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:42:28.476 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:42:28.476 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:42:28.609 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 119ms. Found 5 JPA repository interfaces.
2020-12-07 15:42:28.631 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:42:28.633 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:42:28.665 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:42:28.665 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:42:28.666 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:42:28.667 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:42:28.668 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:42:28.668 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 17ms. Found 0 Redis repository interfaces.
2020-12-07 15:42:28.865 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:42:29.152 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 15:42:29.593 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@22b82ddf' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:42:29.610 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 15:42:30.197 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:42:30.212 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:42:30.213 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:42:30.213 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:42:30.353 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:42:30.353 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3797 ms
2020-12-07 15:42:30.612 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:42:30.613 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:42:30.839 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:42:31.095 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:42:31.163 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:42:31.259 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:42:31.262 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:42:31.613 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:42:31.852 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:42:31.857 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:42:32.664 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:42:32.714 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:42:33.052 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:42:33.053 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:42:33.055 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:42:33.646 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:42:35.049 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:42:35.066 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:42:35.080 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c414eb3, org.springframework.security.web.context.SecurityContextPersistenceFilter@18301763, org.springframework.security.web.header.HeaderWriterFilter@4eab9aec, org.springframework.security.web.csrf.CsrfFilter@cbc3bf3, org.springframework.security.web.authentication.logout.LogoutFilter@4853f592, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e00d737, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c6fc278, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4edd8a0a, org.springframework.security.web.session.SessionManagementFilter@7be6dabb, org.springframework.security.web.access.ExceptionTranslationFilter@2b4ba2d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13731ff4]
2020-12-07 15:42:35.101 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31cddb11, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f584d0c, org.springframework.security.web.header.HeaderWriterFilter@396c1228, org.springframework.security.web.authentication.logout.LogoutFilter@5ef7ae2f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48da5106, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c599679, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15fd3088, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510bd87a, org.springframework.security.web.session.SessionManagementFilter@1701beb3, org.springframework.security.web.access.ExceptionTranslationFilter@3a012678, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ba98508]
2020-12-07 15:42:35.162 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:42:35.177 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:42:35.216 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:42:35.216 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:42:35.225 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:42:35.225 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:42:35.712 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:42:36.239 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:42:36.304 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:42:36.357 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:42:36.362 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:42:36.488 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:42:36.507 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:42:36.510 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:42:36.535 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:42:36.617 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:42:36.840 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:42:36.853 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:42:36.857 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:42:36.859 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:42:36.867 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:42:36.875 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:42:36.882 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:42:36.886 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:42:36.889 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:42:36.891 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:42:36.918 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:42:37.687 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:42:37.718 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 13.815 seconds (JVM running for 15.431)
2020-12-07 15:42:37.731 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:42:37.733 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:42:37.733 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:42:37.733 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:42:37.733 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:42:37.733 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:42:37.744 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:42:37.754 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:42:44.474 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:42:44.474 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:42:44.489 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 15 ms
2020-12-07 15:42:49.636 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:43:07.462 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:43:27.064 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:43:27.069 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:43:27.069 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:43:27.070 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:43:27.082 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:43:27.105 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:43:27.107 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:43:27.108 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:43:27.120 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:43:38.069 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:43:38.202 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:43:38.287 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:43:38.299 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:43:38.309 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:43:38.311 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:43:38.319 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:43:40.251 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:43:40.252 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:43:40.362 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 100ms. Found 5 JPA repository interfaces.
2020-12-07 15:43:40.379 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:43:40.380 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:43:40.398 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:43:40.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:43:40.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:43:40.400 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:43:40.400 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:43:40.400 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 15:43:40.540 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:43:40.821 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 15:43:41.647 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:43:41.660 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:43:41.661 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:43:41.661 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:43:41.780 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:43:41.780 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3422 ms
2020-12-07 15:43:41.993 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:43:41.993 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:43:42.196 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:43:42.434 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:43:42.515 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:43:42.652 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:43:42.661 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:43:42.918 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:43:43.119 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:43:43.121 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:43:43.742 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:43:43.796 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:43:44.184 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:43:44.185 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:43:44.186 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:43:44.807 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:43:45.743 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:43:45.758 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:43:45.773 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18301763, org.springframework.security.web.context.SecurityContextPersistenceFilter@34ff08c6, org.springframework.security.web.header.HeaderWriterFilter@2a9ea03f, org.springframework.security.web.authentication.logout.LogoutFilter@78b2d29e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2202c92f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71135794, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5382a35f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@237ee2e1, org.springframework.security.web.session.SessionManagementFilter@74e175c7, org.springframework.security.web.access.ExceptionTranslationFilter@33214124, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52d01430]
2020-12-07 15:43:45.779 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bb84aa5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b03c35c, org.springframework.security.web.header.HeaderWriterFilter@445f6f73, org.springframework.security.web.csrf.CsrfFilter@1a6a4595, org.springframework.security.web.authentication.logout.LogoutFilter@6f5288c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a05ff8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@251e2f4a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4853f592, org.springframework.security.web.session.SessionManagementFilter@27f31d91, org.springframework.security.web.access.ExceptionTranslationFilter@5644f664, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e782401]
2020-12-07 15:43:45.809 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:43:45.814 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:43:45.837 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:43:45.838 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:43:45.844 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:43:45.844 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:43:46.218 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:43:46.624 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:43:46.731 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:43:46.772 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:43:46.776 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:43:46.870 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:43:46.926 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:43:46.930 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:43:46.947 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:43:47.028 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:43:47.210 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:43:47.220 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:43:47.223 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:43:47.225 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:43:47.229 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:43:47.236 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:43:47.241 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:43:47.245 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:43:47.247 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:43:47.249 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:43:47.267 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:43:47.911 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:43:47.930 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 12.288 seconds (JVM running for 14.016)
2020-12-07 15:43:47.945 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:43:47.947 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:43:47.948 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:43:47.948 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:43:47.948 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:43:47.950 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:43:47.960 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:43:47.975 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:43:53.847 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:43:53.850 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:43:53.902 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 52 ms
2020-12-07 15:43:58.821 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:44:17.673 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:44:47.183 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:45:16.693 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:45:46.204 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:46:15.719 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:46:36.308 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:46:36.314 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 15:46:36.315 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 15:46:36.315 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 15:46:36.324 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 15:46:36.369 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:46:36.377 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 15:46:36.388 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 15:46:36.400 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 15:46:45.278 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:46:45.319 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:46:45.409 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:46:45.431 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:46:45.456 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:46:45.458 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:46:45.468 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:46:46.969 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:46:46.970 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:46:47.097 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 113ms. Found 5 JPA repository interfaces.
2020-12-07 15:46:47.113 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:46:47.114 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:46:47.134 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:46:47.134 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:46:47.135 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:46:47.135 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:46:47.136 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:46:47.136 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 15:46:47.291 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:46:47.516 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 15:46:48.319 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:46:48.338 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:46:48.339 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:46:48.340 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:46:48.482 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:46:48.483 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 2981 ms
2020-12-07 15:46:48.733 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:46:48.733 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:46:48.934 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:46:49.111 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:46:49.212 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:46:49.285 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:46:49.299 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:46:49.590 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:46:49.790 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:46:49.793 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:46:50.475 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:46:50.523 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:46:50.574 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:46:50.575 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:46:50.576 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:46:50.915 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:46:52.154 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e366c6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@63d9e1a, org.springframework.security.web.header.HeaderWriterFilter@7e017f47, org.springframework.security.web.authentication.logout.LogoutFilter@32430075, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@537a8915, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10280879, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7962c1d5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68e094c9, org.springframework.security.web.session.SessionManagementFilter@84eafc2, org.springframework.security.web.access.ExceptionTranslationFilter@556944cd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10230657]
2020-12-07 15:46:52.165 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ac1161f, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e4c05a0, org.springframework.security.web.header.HeaderWriterFilter@3d42b756, org.springframework.security.web.csrf.CsrfFilter@7fb02606, org.springframework.security.web.authentication.logout.LogoutFilter@459df48d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d763b06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2526d5f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f5bfbca, org.springframework.security.web.session.SessionManagementFilter@7c93e69, org.springframework.security.web.access.ExceptionTranslationFilter@5c8d631, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78c23ade]
2020-12-07 15:46:52.205 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:46:52.211 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:46:52.253 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:46:52.253 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:46:52.265 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:46:52.265 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:46:52.420 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:46:52.452 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:46:52.732 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:46:53.084 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:46:53.135 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:46:53.175 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:46:53.179 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:46:53.271 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:46:53.298 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:46:53.301 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:46:53.319 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:46:53.406 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:46:53.603 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:46:53.613 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:46:53.616 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:46:53.618 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:46:53.632 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:46:53.643 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:46:53.651 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:46:53.655 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:46:53.657 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:46:53.660 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:46:53.676 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:46:54.358 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:46:54.376 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.074 seconds (JVM running for 12.577)
2020-12-07 15:46:54.387 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:46:54.389 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:46:54.389 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:46:54.390 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:46:54.390 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:46:54.390 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:46:54.408 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:46:59.812 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:46:59.813 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:46:59.839 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 25 ms
2020-12-07 15:48:11.882 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m21s304ms).
2020-12-07 15:48:11.885 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:48:11.920 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}
2020-12-07 15:50:29.591 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m17s710ms).
2020-12-07 15:50:29.593 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:50:29.642 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:50:43.162 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 15:50:43.210 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 15:50:43.288 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 15:50:43.322 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 15:50:43.359 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 15:50:43.362 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 15:50:43.368 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 15:50:45.290 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:50:45.291 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 15:50:45.439 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 132ms. Found 5 JPA repository interfaces.
2020-12-07 15:50:45.457 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 15:50:45.458 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 15:50:45.479 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:50:45.479 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:50:45.480 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:50:45.480 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:50:45.481 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 15:50:45.481 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 15:50:45.656 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 15:50:46.010 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 15:50:46.992 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 15:50:47.012 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 15:50:47.016 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 15:50:47.018 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 15:50:47.194 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 15:50:47.195 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3785 ms
2020-12-07 15:50:47.464 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 15:50:47.464 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 15:50:47.735 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 15:50:47.919 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 15:50:47.990 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 15:50:48.092 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 15:50:48.115 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 15:50:48.571 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 15:50:48.831 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 15:50:48.834 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 15:50:49.752 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 15:50:49.885 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 15:50:50.117 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 15:50:50.118 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 15:50:50.119 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 15:50:50.503 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 15:50:51.977 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10b5ff4d, org.springframework.security.web.context.SecurityContextPersistenceFilter@38c1b1a7, org.springframework.security.web.header.HeaderWriterFilter@655f92a1, org.springframework.security.web.authentication.logout.LogoutFilter@56adbb07, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4803bf73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10bcbbce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3085befb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58835bba, org.springframework.security.web.session.SessionManagementFilter@30ca66c5, org.springframework.security.web.access.ExceptionTranslationFilter@43312512, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@180e33b0]
2020-12-07 15:50:51.994 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d373794, org.springframework.security.web.context.SecurityContextPersistenceFilter@73905dff, org.springframework.security.web.header.HeaderWriterFilter@76eee0b1, org.springframework.security.web.csrf.CsrfFilter@48f2d51d, org.springframework.security.web.authentication.logout.LogoutFilter@40d04cf8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c0d3715, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d67bf4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7304ca87, org.springframework.security.web.session.SessionManagementFilter@2119b989, org.springframework.security.web.access.ExceptionTranslationFilter@a84b6de, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18918d70]
2020-12-07 15:50:52.114 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 15:50:52.119 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 15:50:52.290 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 15:50:52.298 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:50:52.300 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:50:52.318 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 15:50:52.318 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 15:50:52.325 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 15:50:52.806 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 15:50:53.208 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 15:50:53.268 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 15:50:53.315 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 15:50:53.320 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 15:50:53.551 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 15:50:53.575 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 15:50:53.579 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 15:50:53.597 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 15:50:53.700 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 15:50:53.941 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 15:50:53.952 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 15:50:53.955 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 15:50:53.959 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 15:50:53.965 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 15:50:53.975 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 15:50:53.982 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 15:50:53.987 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 15:50:53.989 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 15:50:53.992 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 15:50:54.009 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 15:50:54.937 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 15:50:54.975 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 14.113 seconds (JVM running for 16.284)
2020-12-07 15:50:55.002 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:50:55.004 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 15:50:55.005 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:50:55.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 15:50:55.006 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 15:50:55.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 15:50:55.037 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:51:00.071 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 15:51:00.071 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 15:51:00.098 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 19 ms
2020-12-07 15:51:04.129 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 15:51:24.745 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:51:54.300 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:52:23.810 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:52:53.325 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:53:22.834 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:53:52.344 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:54:21.861 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:54:51.371 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:55:20.882 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:55:50.391 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:56:19.905 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:56:49.428 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:57:18.939 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:57:48.458 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:58:17.969 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:58:47.507 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:59:17.118 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 15:59:46.635 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:00:16.178 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:00:45.697 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:01:15.209 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:01:28.948 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:01:28.967 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:01:28.969 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:01:28.970 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:01:28.979 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:01:29.020 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:01:29.027 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:01:29.027 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:01:29.063 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:01:43.264 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:01:43.325 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:01:43.404 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:01:43.422 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:01:43.434 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:01:43.435 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:01:43.444 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:01:45.323 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:01:45.324 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:01:45.499 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 165ms. Found 5 JPA repository interfaces.
2020-12-07 16:01:45.518 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:01:45.519 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:01:45.562 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:01:45.563 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:01:45.564 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:01:45.565 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:01:45.565 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:01:45.566 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 35ms. Found 0 Redis repository interfaces.
2020-12-07 16:01:45.708 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:01:45.973 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:01:46.785 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:01:46.799 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:01:46.800 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:01:46.800 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:01:46.941 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:01:46.942 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3449 ms
2020-12-07 16:01:47.190 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:01:47.191 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:01:47.454 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:01:47.615 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:01:47.689 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:01:47.764 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:01:47.787 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:01:48.108 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:01:48.350 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:01:48.353 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:01:49.167 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:01:49.209 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:01:49.265 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:01:49.266 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:01:49.267 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:01:49.657 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:01:55.616 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c552f08, org.springframework.security.web.context.SecurityContextPersistenceFilter@14ee143a, org.springframework.security.web.header.HeaderWriterFilter@34c07ecc, org.springframework.security.web.authentication.logout.LogoutFilter@6130a6f5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@aade5a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73417494, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68feca3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fd00e10, org.springframework.security.web.session.SessionManagementFilter@1b120d48, org.springframework.security.web.access.ExceptionTranslationFilter@77622c82, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52ba21e4]
2020-12-07 16:01:55.635 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d9bd4d6, org.springframework.security.web.context.SecurityContextPersistenceFilter@556ae220, org.springframework.security.web.header.HeaderWriterFilter@c4455b4, org.springframework.security.web.csrf.CsrfFilter@748aa7dc, org.springframework.security.web.authentication.logout.LogoutFilter@6d658aa8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@646c872a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4440750, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7298c2d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2689b752, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@84eafc2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@377cbdae, org.springframework.security.web.session.SessionManagementFilter@747f0f34, org.springframework.security.web.access.ExceptionTranslationFilter@31e84f10, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56226064]
2020-12-07 16:01:55.673 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:01:55.679 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:01:55.713 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:01:55.713 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:01:55.726 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:01:55.726 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:01:55.807 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:01:55.824 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:01:56.090 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:01:56.483 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:01:56.533 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:01:56.572 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:01:56.577 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:01:56.684 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:01:56.709 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:01:56.713 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:01:56.732 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:01:56.802 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:01:56.972 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:01:56.982 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:01:56.986 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:01:56.989 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:01:56.993 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:01:57.000 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:01:57.007 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:01:57.013 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:01:57.015 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:01:57.017 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:01:57.033 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:01:57.667 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:01:57.686 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 16.773 seconds (JVM running for 19.922)
2020-12-07 16:01:57.698 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:01:57.699 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:01:57.700 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:01:57.700 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:01:57.700 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:01:57.701 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:01:57.721 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:02:05.977 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:02:05.978 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:02:05.994 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 16 ms
2020-12-07 16:02:10.186 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 16:02:27.448 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:02:56.967 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:03:26.477 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:03:56.022 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:04:25.615 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:04:55.125 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:05:24.634 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:05:54.191 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:06:23.786 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:06:53.297 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:07:22.807 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:07:42.367 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:07:42.382 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:07:42.382 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:07:42.383 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:07:42.425 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:07:42.566 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:07:42.579 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:07:42.580 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:07:42.629 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:07:50.778 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:07:50.818 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:07:50.873 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:07:50.884 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:07:50.894 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:07:50.895 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:07:50.901 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:07:52.697 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:07:52.698 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:07:52.847 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-12-07 16:07:52.867 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:07:52.871 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:07:52.893 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:07:52.894 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:07:52.894 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:07:52.895 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:07:52.896 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:07:52.896 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 14ms. Found 0 Redis repository interfaces.
2020-12-07 16:07:53.079 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:07:53.352 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:07:54.328 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:07:54.344 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:07:54.344 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:07:54.345 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:07:54.504 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:07:54.505 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3572 ms
2020-12-07 16:07:54.800 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:07:54.801 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:07:55.112 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:07:55.313 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:07:55.401 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:07:55.495 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:07:55.501 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:07:55.854 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:07:56.132 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:07:56.140 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:07:56.929 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:07:56.981 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:07:57.177 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:07:57.179 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:07:57.180 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:07:57.558 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:07:59.012 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d7772d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@1477d4e6, org.springframework.security.web.header.HeaderWriterFilter@5ca3acad, org.springframework.security.web.authentication.logout.LogoutFilter@a72925, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@613a608e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b791e6e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a34c47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38394e76, org.springframework.security.web.session.SessionManagementFilter@691a5c3a, org.springframework.security.web.access.ExceptionTranslationFilter@4b552b13, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3662c887]
2020-12-07 16:07:59.031 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@aade5a2, org.springframework.security.web.context.SecurityContextPersistenceFilter@e47637c, org.springframework.security.web.header.HeaderWriterFilter@2f8ab988, org.springframework.security.web.csrf.CsrfFilter@60251ddb, org.springframework.security.web.authentication.logout.LogoutFilter@52ba21e4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@453e1bba, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fdf7359, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@51f009ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@606f0f70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a53ac0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59c00722, org.springframework.security.web.session.SessionManagementFilter@46c475ba, org.springframework.security.web.access.ExceptionTranslationFilter@2059c3ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e9ed4df]
2020-12-07 16:07:59.062 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:07:59.067 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:07:59.099 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:07:59.107 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:07:59.108 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:07:59.118 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:07:59.118 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:07:59.122 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:07:59.654 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:08:00.092 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:08:00.231 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:08:00.290 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:08:00.297 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:08:00.415 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:08:00.442 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:08:00.446 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:08:00.467 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:08:00.562 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:08:00.822 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:08:00.832 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:08:00.834 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:08:00.839 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:08:00.844 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:08:00.856 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:08:00.864 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:08:00.870 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:08:00.873 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:08:00.875 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:08:00.896 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:08:01.691 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:08:01.716 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 14.752 seconds (JVM running for 16.408)
2020-12-07 16:08:01.734 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:08:01.738 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:08:01.738 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:08:01.738 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:08:01.739 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:08:01.740 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:08:01.756 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:08:01.772 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:08:07.428 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:08:07.428 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:08:07.480 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 51 ms
2020-12-07 16:08:35.642 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:08:56.016 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}
2020-12-07 16:09:05.692 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:09:37.854 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:10:44.947 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool[787] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s96ms).
2020-12-07 16:10:44.973 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:10:45.022 [com.alibaba.nacos.naming.beat.sender] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"serviceName":"dev@@whitzard-auth","weight":1.0}
2020-12-07 16:10:56.616 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 16:11:26.165 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:11:38.264 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:11:38.274 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:11:38.275 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:11:38.276 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:11:38.291 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:11:38.339 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:11:38.345 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:11:38.346 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:11:38.363 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:11:48.952 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:11:49.014 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:11:49.069 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:11:49.080 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:11:49.091 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:11:49.093 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:11:49.101 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:11:50.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:11:50.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:11:51.053 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 150ms. Found 5 JPA repository interfaces.
2020-12-07 16:11:51.074 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:11:51.078 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:11:51.112 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:11:51.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:11:51.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:11:51.116 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:11:51.117 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:11:51.118 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 26ms. Found 0 Redis repository interfaces.
2020-12-07 16:11:51.280 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:11:51.623 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:11:52.673 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:11:52.690 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:11:52.691 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:11:52.691 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:11:52.854 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:11:52.854 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3700 ms
2020-12-07 16:11:53.151 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:11:53.152 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:11:53.384 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:11:53.606 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:11:53.737 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:11:53.847 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:11:53.848 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:11:54.202 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:11:54.504 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:11:54.507 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:11:55.398 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:11:55.450 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:11:55.558 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:11:55.564 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:11:55.570 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:11:56.049 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:11:57.885 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@630e5010, org.springframework.security.web.context.SecurityContextPersistenceFilter@7730da00, org.springframework.security.web.header.HeaderWriterFilter@125a8ab6, org.springframework.security.web.authentication.logout.LogoutFilter@6e00d737, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@267b678f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fdede3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4eab9aec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b5ff4d, org.springframework.security.web.session.SessionManagementFilter@cbc3bf3, org.springframework.security.web.access.ExceptionTranslationFilter@10bcbbce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69fe8c75]
2020-12-07 16:11:57.916 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15fd3088, org.springframework.security.web.context.SecurityContextPersistenceFilter@75507e68, org.springframework.security.web.header.HeaderWriterFilter@31de8099, org.springframework.security.web.csrf.CsrfFilter@5c0d3715, org.springframework.security.web.authentication.logout.LogoutFilter@18918d70, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c599679, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@12478b4e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f13e0a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@152d2a58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50b2ba2c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@329efc61, org.springframework.security.web.session.SessionManagementFilter@40d04cf8, org.springframework.security.web.access.ExceptionTranslationFilter@5d67bf4d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f584d0c]
2020-12-07 16:11:57.991 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:11:58.006 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:11:58.071 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:11:58.071 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:11:58.087 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:11:58.087 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:11:58.200 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:11:58.230 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:11:58.752 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:11:59.299 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:11:59.384 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:11:59.462 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:11:59.468 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:11:59.604 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:11:59.664 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:11:59.668 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:11:59.694 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:11:59.799 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:12:00.042 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:12:00.055 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:12:00.057 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:12:00.060 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:12:00.067 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:12:00.075 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:12:00.083 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:12:00.088 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:12:00.090 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:12:00.095 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:12:00.115 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:12:00.954 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:12:00.973 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 14.546 seconds (JVM running for 16.557)
2020-12-07 16:12:00.989 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:12:00.994 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:12:00.996 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:12:00.996 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:12:00.997 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:12:00.997 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:12:01.008 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:12:09.702 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:12:09.703 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:12:09.733 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 30 ms
2020-12-07 16:12:14.657 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 16:12:30.713 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:13:00.231 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:13:29.774 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:13:59.368 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:14:28.963 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:14:58.474 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:15:27.987 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:15:50.174 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:15:50.184 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:15:50.185 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:15:50.186 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:15:50.196 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:15:50.369 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:15:50.379 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:15:50.380 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:15:50.410 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:16:03.342 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:16:03.406 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:16:03.491 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:16:03.502 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:16:03.517 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:16:03.519 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:16:03.525 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:16:05.471 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:16:05.472 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:16:05.615 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 126ms. Found 5 JPA repository interfaces.
2020-12-07 16:16:05.635 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:16:05.636 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:16:05.658 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:16:05.659 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:16:05.660 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:16:05.660 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:16:05.660 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:16:05.661 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 13ms. Found 0 Redis repository interfaces.
2020-12-07 16:16:05.836 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:16:06.103 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:16:07.063 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:16:07.079 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:16:07.080 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:16:07.080 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:16:07.238 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:16:07.238 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3664 ms
2020-12-07 16:16:07.530 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:16:07.530 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:16:07.766 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:16:08.017 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:16:08.082 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:16:08.179 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:16:08.183 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:16:08.545 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:16:08.828 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:16:08.834 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:16:09.539 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:16:09.588 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:16:09.736 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:16:09.738 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:16:09.739 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:16:10.128 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:16:11.392 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext[559] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
2020-12-07 16:16:11.426 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:16:11.647 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:16:11.662 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:16:11.665 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:16:11.666 [main] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:16:11.677 [main] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:16:11.680 [main] INFO  org.apache.catalina.core.StandardService[173] - Stopping service [Tomcat]
2020-12-07 16:16:11.706 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener[136] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-12-07 16:16:11.726 [main] ERROR org.springframework.boot.SpringApplication[837] - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at com.newpi.data.WhitzardAuth.main(WhitzardAuth.java:20)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 22 common frames omitted
Caused by: java.lang.IllegalStateException: securityBuilder cannot be null
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.getBuilder(SecurityConfigurerAdapter.java:67)
	at org.springframework.security.config.annotation.SecurityConfigurerAdapter.and(SecurityConfigurerAdapter.java:56)
	at com.newpi.data.config.AuthorizationConfiguration.configure(AuthorizationConfiguration.java:85)
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:103)
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration.configure(AuthorizationServerSecurityConfiguration.java:77)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94)
	at org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration$$EnhancerBySpringCGLIB$$6c629a6f.init(<generated>)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 23 common frames omitted
2020-12-07 16:17:25.930 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:17:25.977 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:17:26.040 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:17:26.053 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:17:26.064 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:17:26.065 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:17:26.075 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:17:27.944 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:17:27.944 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:17:28.095 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 136ms. Found 5 JPA repository interfaces.
2020-12-07 16:17:28.116 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:17:28.119 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:17:28.145 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:17:28.146 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:17:28.146 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:17:28.147 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:17:28.147 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:17:28.148 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 16ms. Found 0 Redis repository interfaces.
2020-12-07 16:17:28.307 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:17:28.612 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=ee5158de-d52b-34ac-8123-004e5df88622
2020-12-07 16:17:29.023 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@37a67cf' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 16:17:29.041 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker[335] - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-12-07 16:17:29.695 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:17:29.716 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:17:29.718 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:17:29.718 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:17:29.877 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:17:29.878 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3754 ms
2020-12-07 16:17:30.166 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:17:30.166 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:17:30.415 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:17:30.626 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:17:30.752 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:17:30.859 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:17:30.864 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:17:31.183 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:17:31.455 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:17:31.458 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:17:32.220 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:17:32.337 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:17:32.712 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:17:32.713 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:17:32.715 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:17:33.316 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:17:34.280 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:17:34.305 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:17:34.445 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@498f5728, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ff3275b, org.springframework.security.web.header.HeaderWriterFilter@10466c55, org.springframework.security.web.authentication.logout.LogoutFilter@3b80bb63, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@53153d5e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48cbe1c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b76b891, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c194652, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39451d92, org.springframework.security.web.session.SessionManagementFilter@2a525f88, org.springframework.security.web.access.ExceptionTranslationFilter@582b14e2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@797ee1a9]
2020-12-07 16:17:34.466 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@123e9094, org.springframework.security.web.context.SecurityContextPersistenceFilter@61c3d7ac, org.springframework.security.web.header.HeaderWriterFilter@3140ad41, org.springframework.security.web.csrf.CsrfFilter@15c96f24, org.springframework.security.web.authentication.logout.LogoutFilter@79e15c4a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2087c939, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@662061e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1f6ba47b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c3a7b84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bc9389, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30221cfa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bb78ae, org.springframework.security.web.session.SessionManagementFilter@3f2d2f22, org.springframework.security.web.access.ExceptionTranslationFilter@24482a4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b2ade46]
2020-12-07 16:17:34.540 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:17:34.559 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:17:34.594 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:17:34.594 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:17:34.604 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:17:34.604 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:17:35.505 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:17:36.081 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:17:36.148 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:17:36.198 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:17:36.204 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:17:36.325 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:17:36.349 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:17:36.355 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:17:36.376 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:17:36.468 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:17:36.725 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:17:36.736 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:17:36.740 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:17:36.743 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:17:36.747 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:17:36.757 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:17:36.763 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:17:36.771 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:17:36.773 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:17:36.776 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:17:36.795 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:17:37.608 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:17:37.627 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 14.167 seconds (JVM running for 16.062)
2020-12-07 16:17:37.641 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:17:37.642 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:17:37.643 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:17:37.643 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:17:37.643 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:17:37.643 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:17:37.657 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:17:43.199 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:17:43.200 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:17:43.230 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 30 ms
2020-12-07 16:18:07.357 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:18:36.870 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:19:06.389 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:19:35.952 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:20:05.544 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:20:35.052 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:21:04.629 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:21:34.140 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:22:03.692 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:22:33.204 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:23:02.715 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:23:32.225 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:24:01.733 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:24:31.241 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:25:00.749 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:25:07.811 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:25:07.819 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:25:07.820 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:25:07.820 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:25:07.832 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:25:07.901 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:25:07.907 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:25:07.908 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:25:07.926 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:25:19.926 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:25:19.986 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:25:20.043 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:25:20.055 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:25:20.063 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:25:20.064 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:25:20.070 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:25:21.627 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:25:21.628 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:25:21.780 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 141ms. Found 5 JPA repository interfaces.
2020-12-07 16:25:21.797 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:25:21.799 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:25:21.819 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:25:21.820 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:25:21.820 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:25:21.820 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:25:21.821 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:25:21.821 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 16:25:21.989 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:25:22.214 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:25:23.000 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:25:23.015 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:25:23.017 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:25:23.017 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:25:23.156 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:25:23.156 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3058 ms
2020-12-07 16:25:23.399 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:25:23.399 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:25:23.640 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:25:23.842 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:25:23.915 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:25:23.997 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:25:24.013 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:25:24.303 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:25:24.538 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:25:24.540 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:25:25.262 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:25:25.310 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:25:25.381 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:25:25.383 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:25:25.384 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:25:25.672 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:25:26.868 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48cd8e71, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c96346b, org.springframework.security.web.header.HeaderWriterFilter@453e1bba, org.springframework.security.web.authentication.logout.LogoutFilter@84eafc2, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@7298c2d9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@62ff14cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@589d831e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@684430c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43b3b1b0, org.springframework.security.web.session.SessionManagementFilter@51f009ef, org.springframework.security.web.access.ExceptionTranslationFilter@341df373, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a0b4955]
2020-12-07 16:25:26.890 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d42b756, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c34c491, org.springframework.security.web.header.HeaderWriterFilter@243162b1, org.springframework.security.web.csrf.CsrfFilter@7e366c6f, org.springframework.security.web.authentication.logout.LogoutFilter@528c4353, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b364f47, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6af29394, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7c93e69, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5c8d631, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@509e4902, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f958d4a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e4c05a0, org.springframework.security.web.session.SessionManagementFilter@712c9bcf, org.springframework.security.web.access.ExceptionTranslationFilter@68e094c9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79486f38]
2020-12-07 16:25:26.917 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:25:26.923 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:25:26.956 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:25:26.956 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:25:26.963 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:25:26.964 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:25:27.143 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:25:27.167 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:25:27.410 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:25:27.841 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:25:27.891 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:25:27.934 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:25:27.939 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:25:28.034 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:25:28.166 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:25:28.170 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:25:28.193 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:25:28.266 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:25:28.443 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:25:28.453 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:25:28.455 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:25:28.457 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:25:28.462 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:25:28.470 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:25:28.475 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:25:28.480 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:25:28.483 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:25:28.490 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:25:28.508 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:25:29.193 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:25:29.209 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.443 seconds (JVM running for 13.565)
2020-12-07 16:25:29.221 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:25:29.222 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:25:29.223 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:25:29.223 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:25:29.223 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:25:29.223 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:25:29.258 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:25:36.505 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:25:36.505 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:25:36.533 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 24 ms
2020-12-07 16:25:58.959 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:26:28.475 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:26:58.005 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:27:27.701 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:27:57.406 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:28:27.006 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:28:36.196 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:28:36.202 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:28:36.203 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:28:36.204 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:28:36.215 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:28:36.241 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:28:36.246 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:28:36.247 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:28:36.257 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:28:46.367 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:28:46.411 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:28:46.465 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:28:46.476 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:28:46.490 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:28:46.491 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:28:46.501 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:28:48.102 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:28:48.103 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:28:48.238 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 122ms. Found 5 JPA repository interfaces.
2020-12-07 16:28:48.263 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:28:48.264 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:28:48.285 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:28:48.285 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:28:48.286 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:28:48.286 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:28:48.287 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:28:48.287 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 10ms. Found 0 Redis repository interfaces.
2020-12-07 16:28:48.439 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:28:48.688 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:28:49.476 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:28:49.490 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:28:49.491 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:28:49.491 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:28:49.615 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:28:49.615 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3078 ms
2020-12-07 16:28:49.832 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:28:49.832 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:28:50.019 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:28:50.198 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:28:50.276 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:28:50.394 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:28:50.412 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:28:50.679 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:28:50.889 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:28:50.896 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:28:51.522 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:28:51.620 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:28:51.710 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:28:51.711 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:28:51.712 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:28:52.022 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:28:53.234 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@792b9dd3, org.springframework.security.web.context.SecurityContextPersistenceFilter@56b48163, org.springframework.security.web.header.HeaderWriterFilter@633c0a61, org.springframework.security.web.authentication.logout.LogoutFilter@2a9ea03f, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@71135794, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@30ca66c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5eae392d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d4f266, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cbc3bf3, org.springframework.security.web.session.SessionManagementFilter@b6b746b, org.springframework.security.web.access.ExceptionTranslationFilter@5c43cb12, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@655f92a1]
2020-12-07 16:28:53.261 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e00d737, org.springframework.security.web.context.SecurityContextPersistenceFilter@6aa18912, org.springframework.security.web.header.HeaderWriterFilter@4542af89, org.springframework.security.web.csrf.CsrfFilter@2c6efee3, org.springframework.security.web.authentication.logout.LogoutFilter@1a712f12, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18301763, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2202c92f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@656c0eae, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@237ee2e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c20505f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cce92b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d7f966f, org.springframework.security.web.session.SessionManagementFilter@3163e03b, org.springframework.security.web.access.ExceptionTranslationFilter@57ac236a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68fc636a]
2020-12-07 16:28:53.293 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:28:53.301 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:28:53.373 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:28:53.374 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:28:53.387 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:28:53.393 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:28:53.393 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:28:53.417 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:28:53.906 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:28:54.359 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:28:54.456 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:28:54.500 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:28:54.505 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:28:54.621 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:28:54.645 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:28:54.648 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:28:54.667 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:28:54.740 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:28:54.946 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:28:54.959 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:28:54.961 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:28:54.965 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:28:54.969 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:28:54.979 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:28:54.986 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:28:54.992 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:28:54.996 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:28:55.001 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:28:55.022 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:28:55.690 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:28:55.707 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.418 seconds (JVM running for 12.858)
2020-12-07 16:28:55.717 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:28:55.719 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:28:55.719 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:28:55.719 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:28:55.720 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:28:55.720 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:28:55.742 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:29:01.953 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:29:01.953 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:29:01.972 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 19 ms
2020-12-07 16:29:25.464 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:29:50.369 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:29:50.374 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:29:50.374 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:29:50.375 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:29:50.409 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:29:50.444 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:29:50.447 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:29:50.448 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:29:50.467 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:30:00.681 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:30:00.722 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:30:00.824 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:30:00.852 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:30:00.892 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:30:00.894 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:30:00.903 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:30:02.587 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:30:02.588 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:30:02.726 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 125ms. Found 5 JPA repository interfaces.
2020-12-07 16:30:02.746 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:30:02.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:30:02.767 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:30:02.768 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:30:02.769 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:30:02.769 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:30:02.770 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:30:02.770 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 11ms. Found 0 Redis repository interfaces.
2020-12-07 16:30:02.934 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:30:03.200 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:30:04.306 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:30:04.320 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:30:04.321 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:30:04.321 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:30:04.463 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:30:04.463 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3496 ms
2020-12-07 16:30:04.715 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:30:04.715 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:30:04.915 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:30:05.127 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:30:05.231 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:30:05.307 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:30:05.321 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:30:05.628 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:30:05.852 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:30:05.855 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:30:06.732 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:30:06.733 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:30:06.734 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:30:06.974 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:30:07.145 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:30:07.204 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:30:08.183 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@325e03b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4bac0be5, org.springframework.security.web.header.HeaderWriterFilter@3fdbb7ee, org.springframework.security.web.authentication.logout.LogoutFilter@4700963e, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@3c9cfcde, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@a238a8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a349a73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@542754be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3911fec8, org.springframework.security.web.session.SessionManagementFilter@1361e880, org.springframework.security.web.access.ExceptionTranslationFilter@1add90e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15a0f9]
2020-12-07 16:30:08.190 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@794f937a, org.springframework.security.web.context.SecurityContextPersistenceFilter@e2d9923, org.springframework.security.web.header.HeaderWriterFilter@334d825c, org.springframework.security.web.csrf.CsrfFilter@417b3642, org.springframework.security.web.authentication.logout.LogoutFilter@152dbf8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@554e9509, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@acea29e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7aa1fb0e, org.springframework.security.web.session.SessionManagementFilter@42a7e7e1, org.springframework.security.web.access.ExceptionTranslationFilter@4c12f54a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77972964]
2020-12-07 16:30:08.217 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:30:08.221 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:30:08.252 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:30:08.252 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:30:08.260 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:30:08.261 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:30:08.768 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:30:09.299 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:30:09.356 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:30:09.370 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:30:09.397 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:30:09.445 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:30:09.449 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:30:09.569 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:30:09.657 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:30:09.661 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:30:09.678 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:30:09.751 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:30:09.944 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:30:09.955 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:30:09.957 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:30:09.959 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:30:09.964 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:30:09.979 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:30:09.985 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:30:09.989 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:30:09.991 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:30:09.993 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:30:10.008 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:30:10.691 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:30:10.707 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 12.28 seconds (JVM running for 13.779)
2020-12-07 16:30:10.718 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:30:10.719 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:30:10.720 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:30:10.720 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:30:10.720 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:30:10.720 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:30:10.791 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:30:16.584 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:30:16.584 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:30:16.604 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 19 ms
2020-12-07 16:30:16.905 [http-nio-8002-exec-1] ERROR com.newpi.data.exception.GlobalExceptionHandler[56] - User must be authenticated with Spring Security before authorization can be completed.
org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.
	at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.ProductionSecurityFilter.doFilter(ProductionSecurityFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.github.xiaoymin.knife4j.spring.filter.SecurityBasicAuthFilter.doFilter(SecurityBasicAuthFilter.java:90)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2020-12-07 16:30:40.553 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:31:10.139 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:31:38.519 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:31:38.523 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:31:38.523 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:31:38.524 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:31:38.531 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:31:38.552 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:31:38.555 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:31:38.555 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:31:38.565 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:31:48.519 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:31:48.578 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:31:48.665 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:31:48.687 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:31:48.696 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:31:48.697 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:31:48.712 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:31:50.305 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:31:50.306 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:31:50.445 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 128ms. Found 5 JPA repository interfaces.
2020-12-07 16:31:50.463 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:31:50.464 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:31:50.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:31:50.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:31:50.487 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:31:50.487 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:31:50.488 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:31:50.488 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2020-12-07 16:31:50.647 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:31:50.861 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=10aa67ba-9fe7-3e2a-9610-bfe7d844a009
2020-12-07 16:31:51.798 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:31:51.813 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:31:51.814 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:31:51.815 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:31:51.961 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:31:51.961 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3209 ms
2020-12-07 16:31:52.204 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:31:52.204 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:31:52.402 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:31:52.588 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:31:52.691 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:31:52.767 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:31:52.779 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:31:53.068 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:31:53.286 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:31:53.289 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:31:54.016 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:31:54.059 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:31:54.142 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:31:54.143 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:31:54.145 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:31:54.464 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:31:55.617 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fe3f9ef, org.springframework.security.web.context.SecurityContextPersistenceFilter@68fc636a, org.springframework.security.web.header.HeaderWriterFilter@1a712f12, org.springframework.security.web.authentication.logout.LogoutFilter@2bb84aa5, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@558575fe, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f13e0a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@237ee2e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a6a4595, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c86b0ea, org.springframework.security.web.session.SessionManagementFilter@56adbb07, org.springframework.security.web.access.ExceptionTranslationFilter@2202c92f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d373794]
2020-12-07 16:31:55.631 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32e7df65, org.springframework.security.web.context.SecurityContextPersistenceFilter@27691ee8, org.springframework.security.web.header.HeaderWriterFilter@510bd87a, org.springframework.security.web.csrf.CsrfFilter@48da5106, org.springframework.security.web.authentication.logout.LogoutFilter@4ef277ef, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58fbfefb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43201f84, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@421d7900, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1db9c2cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a34c47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77648321, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45964b9e, org.springframework.security.web.session.SessionManagementFilter@3d213a2b, org.springframework.security.web.access.ExceptionTranslationFilter@31cddb11, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@219a2203]
2020-12-07 16:31:55.657 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:31:55.660 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:31:55.688 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:31:55.688 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:31:55.694 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:31:55.694 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:31:55.725 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:31:55.743 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:31:56.072 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:31:56.514 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:31:56.562 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:31:56.605 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:31:56.610 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:31:56.699 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:31:56.723 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:31:56.731 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:31:56.752 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:31:56.837 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:31:57.035 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:31:57.045 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:31:57.048 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:31:57.050 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:31:57.055 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:31:57.062 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:31:57.069 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:31:57.075 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:31:57.077 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:31:57.080 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:31:57.097 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:31:57.770 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:31:57.786 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 11.383 seconds (JVM running for 12.677)
2020-12-07 16:31:57.798 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:31:57.799 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:31:57.800 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:31:57.800 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:31:57.800 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:31:57.800 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:31:57.815 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:32:03.963 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:32:03.964 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:32:03.993 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 27 ms
2020-12-07 16:32:27.529 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:32:57.043 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:33:26.552 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:33:56.114 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:34:25.707 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:34:55.217 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:35:24.745 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:35:54.290 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:36:23.800 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:36:53.308 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:37:22.816 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:37:52.348 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:38:21.862 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:38:51.443 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:39:20.957 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:39:50.514 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:40:20.084 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:40:49.595 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:41:19.192 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:41:48.714 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:42:18.277 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:42:47.874 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:43:17.474 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:43:46.991 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:44:16.561 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:44:46.155 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:45:15.747 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:45:45.342 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:46:14.854 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:46:44.425 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:47:14.015 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:47:43.624 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:48:13.191 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:48:42.717 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:49:12.288 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:49:41.804 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:50:11.371 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:50:40.981 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:51:10.564 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:51:40.150 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:51:43.049 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:51:43.057 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:51:43.057 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:51:43.058 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:51:43.095 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:51:43.124 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:51:43.130 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:51:43.130 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:51:43.140 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
2020-12-07 16:51:55.770 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor[195] - LOCAL_SNAPSHOT_PATH:/Users/admin/nacos/config
2020-12-07 16:51:55.810 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter[53] - limitTime:5.0
2020-12-07 16:51:55.875 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth] & group[dev]
2020-12-07 16:51:55.887 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth.yaml] & group[dev]
2020-12-07 16:51:55.908 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder[87] - Ignore the empty nacos configuration and get it based on dataId[whitzard-auth-dev.yaml] & group[dev]
2020-12-07 16:51:55.910 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration[112] - Located property source: [BootstrapPropertySource {name='bootstrapProperties-whitzard-auth-dev.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth.yaml,dev'}, BootstrapPropertySource {name='bootstrapProperties-whitzard-auth,dev'}]
2020-12-07 16:51:55.919 [main] INFO  com.newpi.data.WhitzardAuth[655] - The following profiles are active: dev
2020-12-07 16:51:57.865 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:51:57.865 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-12-07 16:51:58.009 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 131ms. Found 5 JPA repository interfaces.
2020-12-07 16:51:58.028 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[249] - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-12-07 16:51:58.029 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[127] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-12-07 16:51:58.051 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.PermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:51:58.052 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:51:58.052 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.RolePermissionDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:51:58.053 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:51:58.054 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport[348] - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.newpi.data.dao.UserRoleDao. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2020-12-07 16:51:58.054 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate[187] - Finished Spring Data repository scanning in 12ms. Found 0 Redis repository interfaces.
2020-12-07 16:51:58.242 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2020-12-07 16:51:58.485 [main] INFO  o.springframework.cloud.context.scope.GenericScope[295] - BeanFactory id=a65da170-1c53-3398-811a-05f692656fa2
2020-12-07 16:51:59.481 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[108] - Tomcat initialized with port(s): 8002 (http)
2020-12-07 16:51:59.516 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Initializing ProtocolHandler ["http-nio-8002"]
2020-12-07 16:51:59.519 [main] INFO  org.apache.catalina.core.StandardService[173] - Starting service [Tomcat]
2020-12-07 16:51:59.521 [main] INFO  org.apache.catalina.core.StandardEngine[173] - Starting Servlet engine: [Apache Tomcat/9.0.39]
2020-12-07 16:51:59.743 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring embedded WebApplicationContext
2020-12-07 16:51:59.743 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext[285] - Root WebApplicationContext: initialization completed in 3794 ms
2020-12-07 16:52:00.002 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-config' contains invalid characters, please migrate to a valid format.
2020-12-07 16:52:00.002 [main] WARN  o.springframework.boot.actuate.endpoint.EndpointId[155] - Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
2020-12-07 16:52:00.183 [main] WARN  o.s.s.o.p.token.store.JwtAccessTokenConverter[302] - Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)
2020-12-07 16:52:00.384 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[181] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 16:52:00.479 [task-1] INFO  org.hibernate.jpa.internal.util.LogHelper[31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-07 16:52:00.619 [task-1] INFO  org.hibernate.Version[44] - HHH000412: Hibernate ORM core version 5.4.22.Final
2020-12-07 16:52:00.631 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration[220] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-12-07 16:52:00.921 [task-1] INFO  org.hibernate.annotations.common.Version[49] - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-07 16:52:01.150 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[110] - HikariPool-1 - Starting...
2020-12-07 16:52:01.154 [task-1] WARN  com.zaxxer.hikari.util.DriverDataSource[70] - Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-12-07 16:52:01.801 [task-1] INFO  com.zaxxer.hikari.HikariDataSource[123] - HikariPool-1 - Start completed.
2020-12-07 16:52:01.855 [task-1] INFO  org.hibernate.dialect.Dialect[170] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
2020-12-07 16:52:01.962 [main] INFO  com.alibaba.nacos.client.naming[56] - initializer namespace from System Property :null
2020-12-07 16:52:01.964 [main] INFO  com.alibaba.nacos.client.naming[65] - initializer namespace from System Environment :null
2020-12-07 16:52:01.965 [main] INFO  com.alibaba.nacos.client.naming[75] - initializer namespace from System Property :null
2020-12-07 16:52:02.283 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver[58] - Exposing 19 endpoint(s) beneath base path '/actuator'
2020-12-07 16:52:03.600 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27691ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@251e2f4a, org.springframework.security.web.header.HeaderWriterFilter@445f6f73, org.springframework.security.web.authentication.logout.LogoutFilter@79ae3fb1, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@270be080, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72c175f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f5288c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d035ab6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78a34c47, org.springframework.security.web.session.SessionManagementFilter@6b03c35c, org.springframework.security.web.access.ExceptionTranslationFilter@1e4a4ed5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fe3f9ef]
2020-12-07 16:52:03.615 [main] INFO  o.s.security.web.DefaultSecurityFilterChain[43] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77622c82, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c6eaa65, org.springframework.security.web.header.HeaderWriterFilter@a72925, org.springframework.security.web.csrf.CsrfFilter@33060020, org.springframework.security.web.authentication.logout.LogoutFilter@15bcecf9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@87f1201, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@70f3bf00, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@44df834c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@796613b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53f1fcc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a261998, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34c07ecc, org.springframework.security.web.session.SessionManagementFilter@4feaa4b8, org.springframework.security.web.access.ExceptionTranslationFilter@443b6765, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21b2579d]
2020-12-07 16:52:03.637 [main] INFO  s.d.s.w.PropertySourcedRequestMappingHandlerMapping[69] - Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-12-07 16:52:03.642 [main] INFO  com.newpi.data.config.Swagger2Config[39] - applicationName:whitzard-auth
2020-12-07 16:52:03.670 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:52:03.670 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:52:03.677 [main] WARN  com.netflix.config.sources.URLConfigurationSource[121] - No URLs will be polled as dynamic configuration sources.
2020-12-07 16:52:03.678 [main] INFO  com.netflix.config.sources.URLConfigurationSource[122] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-12-07 16:52:04.032 [task-1] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator[52] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-07 16:52:04.051 [task-1] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[416] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:52:04.239 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[181] - Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:52:04.666 [main] WARN  o.s.c.s.o.SpringCloudSecurityAutoConfiguration[38] - All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2020-12-07 16:52:04.723 [main] INFO  org.apache.coyote.http11.Http11NioProtocol[173] - Starting ProtocolHandler ["http-nio-8002"]
2020-12-07 16:52:04.776 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer[220] - Tomcat started on port(s): 8002 (http) with context path ''
2020-12-07 16:52:04.781 [main] INFO  com.alibaba.nacos.client.naming[66] - [BEAT] adding beat: {"cluster":"DEFAULT","ip":"10.60.104.74","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8002,"scheduled":false,"serviceName":"dev@@whitzard-auth","stopped":false,"weight":1.0} to beat map.
2020-12-07 16:52:04.906 [main] INFO  com.alibaba.nacos.client.naming[196] - [REGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be registering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8002,"weight":1.0}
2020-12-07 16:52:05.044 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[65] - nacos registry, dev whitzard-auth 10.60.104.74:8002 register finished
2020-12-07 16:52:05.049 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[160] - Context refreshed
2020-12-07 16:52:05.073 [main] INFO  s.d.s.web.plugins.DocumentationPluginsBootstrapper[163] - Found 1 custom documentation plugin(s)
2020-12-07 16:52:05.179 [main] INFO  s.d.spring.web.scanners.ApiListingReferenceScanner[41] - Scanning for api listing references
2020-12-07 16:52:05.416 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_1
2020-12-07 16:52:05.425 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_1
2020-12-07 16:52:05.428 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: getByIdUsingGET_1
2020-12-07 16:52:05.431 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_1
2020-12-07 16:52:05.435 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_1
2020-12-07 16:52:05.445 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: addUsingPOST_2
2020-12-07 16:52:05.451 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: deleteUsingDELETE_2
2020-12-07 16:52:05.457 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: listUsingGET_2
2020-12-07 16:52:05.459 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: unbindRoleUsingGET_1
2020-12-07 16:52:05.462 [main] INFO  s.d.s.w.r.operation.CachingOperationNameGenerator[40] - Generating unique operation named: updateUsingPUT_2
2020-12-07 16:52:05.480 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[49] - Triggering deferred initialization of Spring Data repositories…
2020-12-07 16:52:06.202 [main] INFO  o.s.d.r.c.DeferredRepositoryInitializationListener[53] - Spring Data repositories initialized!
2020-12-07 16:52:06.221 [main] INFO  com.newpi.data.WhitzardAuth[61] - Started WhitzardAuth in 12.533 seconds (JVM running for 14.077)
2020-12-07 16:52:06.237 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth-dev.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:52:06.239 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth-dev.yaml, group=dev, cnt=1
2020-12-07 16:52:06.239 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth.yaml+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:52:06.239 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth.yaml, group=dev, cnt=1
2020-12-07 16:52:06.239 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[197] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [subscribe] whitzard-auth+dev+76ee77bd-b7d7-4a9d-94d2-fab208c237be
2020-12-07 16:52:06.240 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData[92] - [fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] [add-listener] ok, tenant=76ee77bd-b7d7-4a9d-94d2-fab208c237be, dataId=whitzard-auth, group=dev, cnt=1
2020-12-07 16:52:06.376 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:52:14.645 [http-nio-8002-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/][173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 16:52:14.646 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[525] - Initializing Servlet 'dispatcherServlet'
2020-12-07 16:52:14.681 [http-nio-8002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet[547] - Completed initialization in 35 ms
2020-12-07 16:52:36.071 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:53:05.584 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:53:35.104 [com.alibaba.nacos.client.Worker.longPolling.fixed-nacos.k8sml.test.yidian-inc.com-76ee77bd-b7d7-4a9d-94d2-fab208c237be] INFO  com.alibaba.nacos.client.config.impl.ClientWorker[522] - get changedGroupKeys:[]
2020-12-07 16:53:45.329 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler[218] - Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
2020-12-07 16:53:45.340 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[80] - De-registering from Nacos Server now...
2020-12-07 16:53:45.340 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[79] - [BEAT] removing beat: dev@@whitzard-auth:10.60.104.74:8002 from beat map.
2020-12-07 16:53:45.341 [SpringContextShutdownHook] INFO  com.alibaba.nacos.client.naming[218] - [DEREGISTER-SERVICE] 76ee77bd-b7d7-4a9d-94d2-fab208c237be deregistering service dev@@whitzard-auth with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"instanceIdGenerator":"simple","ip":"10.60.104.74","ipDeleteTimeout":30000,"metadata":{},"port":8002,"weight":1.0}
2020-12-07 16:53:45.355 [SpringContextShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry[100] - De-registration finished.
2020-12-07 16:53:45.399 [SpringContextShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean[598] - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-07 16:53:45.408 [SpringContextShutdownHook] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor[218] - Shutting down ExecutorService 'applicationTaskExecutor'
2020-12-07 16:53:45.409 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[350] - HikariPool-1 - Shutdown initiated...
2020-12-07 16:53:45.445 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource[352] - HikariPool-1 - Shutdown completed.
